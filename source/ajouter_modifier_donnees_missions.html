<!DOCTYPE html>
<html>
  <head>
  
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Projet EBO-SURSY</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="robots" content="all,follow">
    
    <!-- <style>
		.input-group-addon{color:#ff0000; background-color: #ffffff;}
	</style> -->
        
    <!-- Bootstrap CSS-->
    <link rel="stylesheet" href="vendor/bootstrap/css/bootstrap.min.css">
    <!-- Font Awesome CSS-->
    <link rel="stylesheet" href="vendor/font-awesome/css/font-awesome.min.css">
    <!-- Fontastic Custom icon font-->
    <link rel="stylesheet" href="css/fontastic.css">
    <!-- Google fonts - Poppins -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:300,400,700">
    <!-- Ladda-->
    <link rel="stylesheet" href="vendor/ladda/ladda-themeless.min.css">
    
    <!-- theme stylesheet-->
    <link rel="stylesheet" href="css/style.default.premium.css" id="theme-stylesheet">
    <!-- Custom stylesheet - for your changes-->
    <link rel="stylesheet" href="css/custom.css">
    <!-- Favicon-->
    <link rel="shortcut icon" href="img/favicon.ico">    
    <!-- Tweaks for older IEs--><!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script><![endif]-->
        
    <script src="vendor/jquery/jquery.min.js" onload="window.$ = window.jQuery = module.exports;"></script>
	<script>
		delete window.module;
	</script>
    
    <!-- DataTables CSS-->
    <link rel="stylesheet" href="css/dataTables.bootstrap4.css">
    <link rel="stylesheet" href="css/responsive.bootstrap4.min.css">
        
    <link rel="stylesheet" href="css/icone.css">
    
    <link rel="stylesheet" href="css/offline_online.css">    
    
    <script src="vendor/popper.js/umd/popper.min.js"> </script>
    <script src="vendor/bootstrap/js/bootstrap.min.js"></script>
    <script src="vendor/jquery.cookie/jquery.cookie.js"> </script>
    <script src="vendor/chart.js/Chart.min.js"></script>
    <script src="vendor/jquery-validation/jquery.validate.min.js"></script>
    <!-- <script src="js/charts-home.js"></script> -->
    <!-- Notifications-->
    <script src="vendor/messenger-hubspot/build/js/messenger.min.js"></script>
    <script src="vendor/messenger-hubspot/build/js/messenger-theme-flat.js"></script>
    <!-- <script src="js/home-premium.js"></script> -->
    
    <!-- Bootstrap DatePicker-->
    <script src="vendor/bootstrap-datepicker/js/bootstrap-datepicker.min.js"></script>
    <script src="vendor/bootstrap-datepicker/locales/bootstrap-datepicker.fr.min.js" charset="UTF-8"></script>
    
    <!-- Data Tables-->
    <script src="vendor/datatables.net/js/jquery.dataTables.js"></script>
    <script src="vendor/datatables.net-bs4/js/dataTables.bootstrap4.js"></script>
    <script src="vendor/datatables.net-responsive/js/dataTables.responsive.min.js"></script>
    <script src="vendor/datatables.net-responsive-bs4/js/responsive.bootstrap4.min.js"></script>
    <script src="js/tables-datatable.js"></script>
    
    <!-- Forms init-->
    <!-- <script src="js/forms-advanced.js"></script>-->
    
    <!-- Main File-->
    <script src="js/front.js"></script>
    
    <!-- Loading buttons-->
    <script src="vendor/ladda/spin.min.js"></script>
    <script src="vendor/ladda/ladda.min.js"></script>
    <script src="js/components-ladda.js"></script>
    
    <script src="js/pouchdb.authentication.js"></script> 
    <script src="js/pouchdb-6.4.2.min.js"></script> 
    <script src="js/pouchdb.find.js"></script> 
    
    <script src="js/function.js"></script>
    <script src="js/menu.js"></script>
    
    <script src="js/loadjs.js"></script>
    
    <script src="js/uuid.js"></script>
    
    <script src="js/load-page-missions.js"></script> 
    
    <script src="js/addReference.js"></script> 
    
  </head>
  <body onload="chargement_des_missions()">
  
    <script>
		logged_only();
		var clickedBtn = null;
		
		let searchParams = new URLSearchParams(window.location.search);
		nom_table = searchParams.get('table');
		
		var debug;
		if (localStorage.getItem('debug') === null) {
			debug = '';
		} else {
			debug = localStorage.getItem('debug');
		};
		var html = 'donnees_mission';
		
	</script> 
  
    <!-- <script type="text/javascript">
    	showAlertFlash();
    </script> -->	
    
    <div class="page">
      <!-- Main Navbar-->
      <header class="header">
        <nav class="navbar">
          <div class="container-fluid">
            <div class="navbar-holder d-flex align-items-center justify-content-between">
              <!-- Navbar Header-->
              <div class="navbar-header">
                <!-- Navbar Brand --><a href="main.html" class="navbar-brand d-none d-sm-inline-block">
                  <div class="brand-text d-none d-lg-inline-block"><span>Projet</span><strong>EBO-SURSY</strong></div>
                  <div class="brand-text d-none d-sm-inline-block d-lg-none"><strong>ES</strong></div></a>
                <!-- Toggle Button--><a id="toggle-btn" href="#" class="menu-btn active"><span></span><span></span><span></span></a>
              </div>
              <!-- Navbar Menu -->
              <ul class="nav-menu list-unstyled d-flex flex-md-row align-items-md-center">
                
                <li class="nav-item d-flex align-items-center">
                  <div class="led-box">
	    		    <div id="led"></div>
	    		    <p id="p_led"></p>
	    		  </div>
	            </li>
	                            
                <!-- Logout    -->
                <li class="nav-item"><a href="logout.html" class="nav-link logout">Se déconnecter<i class="fa fa-sign-out"></i></a></li>
              </ul>
            </div>
          </div>
        </nav>
      </header>
      <div class="page-content d-flex align-items-stretch"> 
        <!-- Side Navbar -->
        <nav class="side-navbar">
          <!-- Sidebar Header-->
          <div class="sidebar-header d-flex align-items-center">
            <img src="logos/Logo_1lign-eboSURSY_coul.jpg" class="img-fluid">
          </div>
          <!-- Sidebar Navidation Menus--><span class="heading">MENU</span>
          <ul class="list-unstyled">
                    
                    <li id="li_dashboard" name="10"> <a href="main.html"> <i class="a-logo-tableau-de-bord"></i></a></li>
                                                                
                    <li id="li_transvihmiDropdown" name="1"> <a id="a_transvihmiDropdown" name="1" href="#ul_transvihmiDropdown" aria-expanded="false" data-toggle="collapse"> <i class="a-logo-ird"></i> </a>
                      <ul id="ul_transvihmiDropdown" name="1" class="collapse list-unstyled">
                        
                        <li id="li_transvihmi_guineeDropdown" name="1" pays="guinee"> <a id="a_transvihmi_guineeDropdown" name="1" href="#ul_transvihmi_guineeDropdown" aria-expanded="false" data-toggle="collapse">Guinée</i> </a>
                       	  <ul id="ul_transvihmi_guineeDropdown" name="1" pays="guinee" class="collapse list-unstyled">
                                              
	                        <li id="li_site_transvihmi_guinee" name="1" style="text-align: right"><a href="liste_sites.html?table=_transvihmi_guinee">Site</a></li>                            
			                                        
	                        <li id="li_bat_transvihmi_guineeDropdown" name="1"><a id="a_bat_transvihmi_guineeDropdown" name="1" href="#ul_bat_transvihmi_guineeDropdown" aria-expanded="false" data-toggle="collapse" style="text-decoration:underline"> <i class="icon-Chauve-souris_Black2"></i>Chauve-souris</a>
	                          <ul id="ul_bat_transvihmi_guineeDropdown" name="1" class="collapse list-unstyled">
			                    			                    
			                    <li id="li_suivi_longitudinal_donnees_missions_transvihmi_guineeDropdown" name="1"><a id="a_suivi_longitudinal_donnees_missions_transvihmi_guineeDropdown" name="1" href="#ul_suivi_longitudinal_donnees_missions_transvihmi_guineeDropdown" aria-expanded="false" data-toggle="collapse">Suivi longitudinal - données missions</a>
			                      <ul id="ul_suivi_longitudinal_donnees_missions_transvihmi_guineeDropdown" name="1" class="collapse list-unstyled">
			                        <li id="li_suivi_longitudinal_donnees_missions_transvihmi_guinee" name="1"style="text-align: right"><a href="liste_donnees_missions.html?table=_transvihmi_guinee">données missions</a></li>
			                    	<li id="li_importation_suivi_longitudinal_donnees_missions_transvihmi_guinee" name="1"><a href="import_export.html?table=_transvihmi_guinee&type=donnees_mission">importation/exportation</a></li>                            
	                              </ul>
			                    </li>			                    			                    
			                    	 
	                        	<li id="li_suivi_longitudinal_donnees_journalieres_transvihmi_guineeDropdown" name="1"><a id="a_suivi_longitudinal_donnees_journalieres_transvihmi_guineeDropdown" name="1" href="#ul_suivi_longitudinal_donnees_journalieres_transvihmi_guineeDropdown" aria-expanded="false" data-toggle="collapse">Suivi longitudinal - données journalières</a>
			                      <ul id="ul_suivi_longitudinal_donnees_journalieres_transvihmi_guineeDropdown" name="1" class="collapse list-unstyled">
			                        <li id="li_suivi_longitudinal_donnees_journalieres_transvihmi_guinee" name="1"style="text-align: right"><a href="liste_donnees_journalieres.html?table=_transvihmi_guinee">données journalières</a></li>                            
	                        		<li id="li_importation_suivi_longitudinal_donnees_journalieres_transvihmi_guinee" name="1"><a href="import_export.html?table=_transvihmi_guinee&type=donnees_journalieres">importation/exportation</a></li>                            
	                              </ul>
			                    </li>	 
	                        		                    
			                    <li id="li_bat_transvihmi_guineeCaptureesDropdown" name="1"><a id="a_bat_transvihmi_guineeCaptureesDropdown" name="1" href="#ul_bat_transvihmi_guineeCaptureesDropdown" aria-expanded="false" data-toggle="collapse"><i class="icon-capturee"></i>Capturées</a>
			                      <ul id="ul_bat_transvihmi_guineeCaptureesDropdown" name="1" class="collapse list-unstyled">
			                        <li id="li_bat_capturees_transvihmi_guinee" name="1"><a href="liste_chauves_souris_capturees.html?table=_transvihmi_guinee">données</a></li>                            
			                        <li id="li_bat_map_capturees_transvihmi_guinee" name="1"><a href="cartographie.html?table=_transvihmi_guinee&type=chauves_souris_capturees">carte</a></li>
			                        <li id="li_importation_bat_capturees_transvihmi_guinee" name="1"><a href="import_export.html?table=_transvihmi_guinee&type=chauves_souris_capturees">importation/exportation</a></li>                            
	                              </ul>
			                    </li>
			                    <li id="li_bat_transvihmi_guineeNonInvasivesDropdown" name="1"><a id="a_bat_transvihmi_guineeNonInvasivesDropdown" name="1" href="#ul_bat_transvihmi_guineeNonInvasivesDropdown" aria-expanded="false" data-toggle="collapse"></i>Non invasives</a>
			                      <ul id="ul_bat_transvihmi_guineeNonInvasivesDropdown" name="1" class="collapse list-unstyled">
			                        <li id="li_bat_non_invasives_transvihmi_guinee" name="1"><a href="liste_chauves_souris_non_invasives.html?table=_transvihmi_guinee">données</a></li>                          
		                            <li id="li_bat_map_non_invasives_transvihmi_guinee" name="1"><a href="cartographie.html?table=_transvihmi_guinee&type=chauves_souris_non_invasives">carte</a></li>
	    	                        <li id="li_importation_bat_non_invasives_transvihmi_guinee" name="1"><a href="import_export.html?table=_transvihmi_guinee&type=chauves_souris_non_invasives">importation/exportation</a></li>
	                              </ul>
			                    </li>
		                      </ul>
	                	    </li>
	                	    <li id="li_viande_de_brousse_transvihmi_guineeDropdown" name="1"><a id="a_viande_de_brousse_transvihmi_guineeDropdown" name="1" href="#ul_viande_de_brousse_transvihmi_guineeDropdown" aria-expanded="false" data-toggle="collapse" style="text-decoration:underline"> <i class="icon-Picto_ANTILOPE"></i>Viande de brousse</a>
	                      	  <ul id="ul_viande_de_brousse_transvihmi_guineeDropdown" name="1" class="collapse list-unstyled">
	                        	<li id="li_viande_de_brousse_transvihmi_guinee" name="1"><a href="liste_viande_de_brousse.html?table=_transvihmi_guinee">données</a></li>                            
	                        	<li id="li_viande_de_brousse_map_transvihmi_guinee" name="1"><a href="cartographie.html?table=_transvihmi_guinee&type=viande_de_brousse">carte</a></li>
	                        	<li id="li_importation_viande_de_brousse_transvihmi_guinee" name="1"><a href="import_export.html?table=_transvihmi_guinee&type=viande_de_brousse">importation/exportation</a></li>
	                      	  </ul>
	                    	</li>
	                      </ul>
	                    </li>
	                    
	                    <li id="li_transvihmi_camerounDropdown" name="1" pays="cameroun"> <a id="a_transvihmi_camerounDropdown" name="1" href="#ul_transvihmi_camerounDropdown" aria-expanded="false" data-toggle="collapse">Cameroun</a>
                       	  <ul id="ul_transvihmi_camerounDropdown" name="1" pays="cameroun" class="collapse list-unstyled">
                                              
	                        <li id="li_site_transvihmi_cameroun" name="1" style="text-align: right"><a href="liste_sites.html?table=_transvihmi_cameroun">Site</a></li>                            
			                                        
	                        <li id="li_bat_transvihmi_camerounDropdown" name="1"><a id="a_bat_transvihmi_camerounDropdown" name="1" href="#ul_bat_transvihmi_camerounDropdown" aria-expanded="false" data-toggle="collapse" style="text-decoration:underline"> <i class="icon-Chauve-souris_Black2"></i>Chauve-souris</a>
	                          <ul id="ul_bat_transvihmi_camerounDropdown" name="1" class="collapse list-unstyled">
			                    
			                    <li id="li_suivi_longitudinal_donnees_missions_transvihmi_camerounDropdown" name="1"><a id="a_suivi_longitudinal_donnees_missions_transvihmi_camerounDropdown" name="1" href="#ul_suivi_longitudinal_donnees_missions_transvihmi_camerounDropdown" aria-expanded="false" data-toggle="collapse">Suivi longitudinal - données missions</a>
			                      <ul id="ul_suivi_longitudinal_donnees_missions_transvihmi_camerounDropdown" name="1" class="collapse list-unstyled">
			                        <li id="li_suivi_longitudinal_donnees_missions_transvihmi_cameroun" name="1"style="text-align: right"><a href="liste_donnees_missions.html?table=_transvihmi_cameroun">données missions</a></li>
			                    	<li id="li_importation_suivi_longitudinal_donnees_missions_transvihmi_cameroun" name="1"><a href="import_export.html?table=_transvihmi_cameroun&type=donnees_mission">importation/exportation</a></li>                            
	                              </ul>
			                    </li>
			                    
	                        	<li id="li_suivi_longitudinal_donnees_journalieres_transvihmi_camerounDropdown" name="1"><a id="a_suivi_longitudinal_donnees_journalieres_transvihmi_camerounDropdown" name="1" href="#ul_suivi_longitudinal_donnees_journalieres_transvihmi_camerounDropdown" aria-expanded="false" data-toggle="collapse">Suivi longitudinal - données journalières</a>
			                      <ul id="ul_suivi_longitudinal_donnees_journalieres_transvihmi_camerounDropdown" name="1" class="collapse list-unstyled">
			                        <li id="li_suivi_longitudinal_donnees_journalieres_transvihmi_cameroun" name="1"style="text-align: right"><a href="liste_donnees_journalieres.html?table=_transvihmi_cameroun">données journalières</a></li>                            
	                        		<li id="li_importation_suivi_longitudinal_donnees_journalieres_transvihmi_cameroun" name="1"><a href="import_export.html?table=_transvihmi_cameroun&type=donnees_journalieres">importation/exportation</a></li>                            
	                              </ul>
			                    </li>	
	                        		                    
			                    <li id="li_bat_transvihmi_camerounCaptureesDropdown" name="1"><a id="a_bat_transvihmi_camerounCaptureesDropdown" name="1" href="#ul_bat_transvihmi_camerounCaptureesDropdown" aria-expanded="false" data-toggle="collapse"><i class="icon-capturee"></i>Capturées</a>
			                      <ul id="ul_bat_transvihmi_camerounCaptureesDropdown" name="1" class="collapse list-unstyled">
			                        <li id="li_bat_capturees_transvihmi_cameroun" name="1"><a href="liste_chauves_souris_capturees.html?table=_transvihmi_cameroun">données</a></li>                            
			                        <li id="li_map_bat_capturees_transvihmi_cameroun" name="1"><a href="cartographie.html?table=_transvihmi_cameroun&type=chauves_souris_capturees">carte</a></li>
			                        <li id="li_importation_bat_capturees_transvihmi_cameroun" name="1"><a href="import_export.html?table=_transvihmi_cameroun&type=chauves_souris_capturees">importation/exportation</a></li>                            
	                              </ul>
			                    </li>
			                    <li id="li_bat_transvihmi_camerounNonInvasivesDropdown" name="1"><a id="a_bat_transvihmi_camerounNonInvasivesDropdown" name="1" href="#ul_bat_transvihmi_camerounNonInvasivesDropdown" aria-expanded="false" data-toggle="collapse">Non invasives</a>
			                      <ul id="ul_bat_transvihmi_camerounNonInvasivesDropdown" name="1" class="collapse list-unstyled">
			                        <li id="li_bat_non_invasives_transvihmi_cameroun" name="1"><a href="liste_chauves_souris_non_invasives.html?table=_transvihmi_cameroun">données</a></li>                          
		                            <li id="li_bat_map_non_invasives_transvihmi_cameroun" name="1"><a href="cartographie.html?table=_transvihmi_cameroun&type=chauves_souris_non_invasives">carte</a></li>
	    	                        <li id="li_importation_bat_non_invasives_transvihmi_cameroun" name="1"><a href="import_export.html?table=_transvihmi_cameroun&type=chauves_souris_non_invasives&type=chauves_souris_non_invasives">importation/exportation</a></li>
	                              </ul>
			                    </li>
		                      </ul>
	                	    </li>
	                    	<li id="li_rongeurs_transvihmi_camerounDropdown" name="1"><a id="a_rongeurs_transvihmi_camerounDropdown" name="1" href="#ul_rongeurs_transvihmi_camerounDropdown" aria-expanded="false" data-toggle="collapse"><i class="icon-rodent"></i>Rongeurs</a>
		                      <ul id="ul_rongeurs_transvihmi_camerounDropdown" name="1" class="collapse list-unstyled">
		                        <li id="li_rongeurs_transvihmi_cameroun" name="1"><a href="liste_rongeurs.html?table=_transvihmi_cameroun">données</a></li>                            
		                        <li id="li_rongeurs_map_transvihmi_cameroun" name="1"><a href="cartographie.html?table=_transvihmi_cameroun&type=rongeurs">carte</a></li>
		                        <li id="li_importation_rongeurs_transvihmi_cameroun" name="1"><a href="import_export.html?table=_transvihmi_cameroun&type=rongeurs">importation/exportation</a></li>                            
                              </ul>
		                    </li>
	                	    <li id="li_viande_de_brousse_transvihmi_camerounDropdown" name="1"><a id="a_viande_de_brousse_transvihmi_camerounDropdown" name="1" href="#ul_viande_de_brousse_transvihmi_camerounDropdown" aria-expanded="false" data-toggle="collapse" style="text-decoration:underline"> <i class="icon-Picto_ANTILOPE"></i>Viande de brousse</a>
	                      	  <ul id="ul_viande_de_brousse_transvihmi_camerounDropdown" name="1" class="collapse list-unstyled">
	                        	<li id="li_viande_de_brousse_transvihmi_cameroun" name="1"><a href="liste_viande_de_brousse.html?table=_transvihmi_cameroun">données</a></li>                            
	                        	<li id="li_viande_de_brousse_map_transvihmi_cameroun" name="1"><a href="cartographie.html?table=_transvihmi_cameroun&type=viande_de_brousse">carte</a></li>
	                        	<li id="li_importation_viande_de_brousse_transvihmi_cameroun" name="1"><a href="import_export.html?table=_transvihmi_cameroun&type=viande_de_brousse">importation/exportation</a></li>
	                      	  </ul>
	                    	</li>
	                    	<li id="li_viande_de_brousse_nhp_transvihmi_camerounDropdown" name="1"><a id="a_viande_de_brousse_nhp_transvihmi_camerounDropdown" name="1" href="#ul_viande_de_brousse_nhp_transvihmi_camerounDropdown" aria-expanded="false" data-toggle="collapse" style="text-decoration:underline"> <i class="icon-Picto_ANTILOPE"></i>Viande de brousse NHP</a>
	                      	  <ul id="ul_viande_de_brousse_nhp_transvihmi_camerounDropdown" name="1" class="collapse list-unstyled">
	                        	<li id="li_viande_de_brousse_nhp_transvihmi_cameroun" name="1"><a href="liste_viande_de_brousse_nhp.html?table=_transvihmi_cameroun">données</a></li>                            
	                        	<li id="li_viande_de_brousse_nhp_map_transvihmi_cameroun" name="1"><a href="cartographie.html?table=_transvihmi_cameroun&type=viande_de_brousse_nhp">carte</a></li>
	                        	<li id="li_importation_viande_de_brousse_nhp_transvihmi_cameroun" name="1"><a href="import_export.html?table=_transvihmi_cameroun&type=viande_de_brousse_nhp">importation/exportation</a></li>
	                      	  </ul>
	                    	</li>
	                    	<li id="li_grand_singe_antilope_transvihmi_camerounDropdown" name="1"><a id="a_grand_singe_antilope_transvihmi_camerounDropdown" name="1" href="#ul_grand_singe_antilope_transvihmi_camerounDropdown" aria-expanded="false" data-toggle="collapse" style="text-decoration:underline"> <i class="icon-Grand_singe_antilope"></i>Grands singes / Antilopes</a>
	                      	  <ul id="ul_grand_singe_antilope_transvihmi_camerounDropdown" name="1" class="collapse list-unstyled">
	                        	<li id="li_grand_singe_antilope_transvihmi_cameroun" name="1"><a href="liste_grands_singes_antilopes.html?table=_transvihmi_cameroun">données</a></li>                            
	                        	<li id="li_grand_singe_antilope_map_transvihmi_cameroun" name="1"><a href="cartographie.html?table=_transvihmi_cameroun&type=grand_singe_antilope">carte</a></li>
	                        	<li id="li_importation_grand_singe_antilope_transvihmi_cameroun" name="1"><a href="import_export.html?table=_transvihmi_cameroun&type=grands_singes_antilopes">importation/exportation</a></li>
	                      	  </ul>
	                    	</li>
	                      </ul>
	                    </li>
	                    
	                    <li id="li_transvihmi_rdcDropdown" name="1" pays="rdc"> <a id="a_transvihmi_rdcDropdown" name="1" href="#ul_transvihmi_rdcDropdown" aria-expanded="false" data-toggle="collapse">RDC</a>
                       	  <ul id="ul_transvihmi_rdcDropdown" name="1" pays="rdc" class="collapse list-unstyled">
                                              
	                        <li id="li_site_transvihmi_rdc" name="1" style="text-align: right"><a href="liste_sites.html?table=_transvihmi_rdc">Site</a></li>                            
			                                        
	                        <li id="li_bat_transvihmi_rdcDropdown" name="1"><a id="a_bat_transvihmi_rdcDropdown" name="1" href="#ul_bat_transvihmi_rdcDropdown" aria-expanded="false" data-toggle="collapse" style="text-decoration:underline"> <i class="icon-Chauve-souris_Black2"></i>Chauve-souris</a>
	                          <ul id="ul_bat_transvihmi_rdcDropdown" name="1" class="collapse list-unstyled">
			                    
			                    <li id="li_suivi_longitudinal_donnees_missions_transvihmi_rdcDropdown" name="1"><a id="a_suivi_longitudinal_donnees_missions_transvihmi_rdcDropdown" name="1" href="#ul_suivi_longitudinal_donnees_missions_transvihmi_rdcDropdown" aria-expanded="false" data-toggle="collapse">Suivi longitudinal - données missions</a>
			                      <ul id="ul_suivi_longitudinal_donnees_missions_transvihmi_rdcDropdown" name="1" class="collapse list-unstyled">
			                        <li id="li_suivi_longitudinal_donnees_missions_transvihmi_rdc" name="1"style="text-align: right"><a href="liste_donnees_missions.html?table=_transvihmi_rdc">données missions</a></li>
			                    	<li id="li_importation_suivi_longitudinal_donnees_missions_transvihmi_rdc" name="1"><a href="import_export.html?table=_transvihmi_rdc&type=donnees_mission">importation/exportation</a></li>                            
	                              </ul>
			                    </li>
			                    
			                    <li id="li_suivi_longitudinal_donnees_journalieres_transvihmi_rdcDropdown" name="1"><a id="a_suivi_longitudinal_donnees_journalieres_transvihmi_rdcDropdown" name="1" href="#ul_suivi_longitudinal_donnees_journalieres_transvihmi_rdcDropdown" aria-expanded="false" data-toggle="collapse">Suivi longitudinal - données journalières</a>
			                      <ul id="ul_suivi_longitudinal_donnees_journalieres_transvihmi_rdcDropdown" name="1" class="collapse list-unstyled">
			                        <li id="li_suivi_longitudinal_donnees_journalieres_transvihmi_rdc" name="1"style="text-align: right"><a href="liste_donnees_journalieres.html?table=_transvihmi_rdc">données journalières</a></li>                            
	                        		<li id="li_importation_suivi_longitudinal_donnees_journalieres_transvihmi_rdc" name="1"><a href="import_export.html?table=_transvihmi_rdc&type=donnees_journalieres">importation/exportation</a></li>                            
	                              </ul>
			                    </li>	 
	                        		                    
			                    <li id="li_bat_transvihmi_rdcCaptureesDropdown" name="1"><a id="a_bat_transvihmi_rdcCaptureesDropdown" name="1" href="#ul_bat_transvihmi_rdcCaptureesDropdown" aria-expanded="false" data-toggle="collapse"><i class="icon-capturee"></i>Capturées</a>
			                      <ul id="ul_bat_transvihmi_rdcCaptureesDropdown" name="1" class="collapse list-unstyled">
			                        <li id="li_bat_capturees_transvihmi_rdc" name="1"><a href="liste_chauves_souris_capturees.html?table=_transvihmi_rdc">données</a></li>                            
			                        <li id="li_bat_map_capturees_transvihmi_rdc" name="1"><a href="cartographie.html?table=_transvihmi_rdc&type=chauves_souris_capturees">carte</a></li>
			                        <li id="li_importation_bat_capturees_transvihmi_rdc" name="1"><a href="import_export.html?table=_transvihmi_rdc&type=chauves_souris_capturees">importation/exportation</a></li>                            
	                              </ul>
			                    </li>
			                    <li id="li_bat_transvihmi_rdcNonInvasivesDropdown" name="1"><a id="a_bat_transvihmi_rdcNonInvasivesDropdown" name="1" href="#ul_bat_transvihmi_rdcNonInvasivesDropdown" aria-expanded="false" data-toggle="collapse">Non invasives</a>
			                      <ul id="ul_bat_transvihmi_rdcNonInvasivesDropdown" name="1" class="collapse list-unstyled">
			                        <li id="li_bat_non_invasives_transvihmi_rdc" name="1"><a href="liste_chauves_souris_non_invasives.html?table=_transvihmi_rdc">données</a></li>                          
		                            <li id="li_bat_map_non_invasives_transvihmi_rdc" name="1"><a href="cartographie.html?table=_transvihmi_rdc&type=chauves_souris_non_invasives">carte</a></li>
	    	                        <li id="li_importation_bat_non_invasives_transvihmi_rdc" name="1"><a href="import_export.html?table=_transvihmi_rdc&type=chauves_souris_non_invasives">importation/exportation</a></li>
	                              </ul>
			                    </li>
		                      </ul>
	                	    </li>
	                	    <li id="li_viande_de_brousse_transvihmi_rdcDropdown" name="1"><a id="a_viande_de_brousse_transvihmi_rdcDropdown" name="1" href="#ul_viande_de_brousse_transvihmi_rdcDropdown" aria-expanded="false" data-toggle="collapse" style="text-decoration:underline"> <i class="icon-Picto_ANTILOPE"></i>Viande de brousse</a>
	                      	  <ul id="ul_viande_de_brousse_transvihmi_rdcDropdown" name="1" class="collapse list-unstyled">
	                        	<li id="li_viande_de_brousse_transvihmi_rdc" name="1"><a href="liste_viande_de_brousse.html?table=_transvihmi_rdc">données</a></li>                            
	                        	<li id="li_viande_de_brousse_map_transvihmi_rdc" name="1"><a href="cartographie.html?table=_transvihmi_rdc&type=viande_de_brousse">carte</a></li>
	                        	<li id="li_importation_viande_de_brousse_transvihmi_rdc" name="1"><a href="import_export.html?table=_transvihmi_rdc&type=viande_de_brousse">importation/exportation</a></li>
	                      	  </ul>
	                    	</li>
	                      </ul>
	                    </li>
	                    
	                    <li id="li_transvihmi_gabonDropdown" name="1" pays="gabon"> <a id="a_transvihmi_gabonDropdown" name="1" href="#ul_transvihmi_gabonDropdown" aria-expanded="false" data-toggle="collapse">Gabon</a>
                       	  <ul id="ul_transvihmi_gabonDropdown" name="1" pays="gabon" class="collapse list-unstyled">
                                              
	                        <li id="li_grand_singe_antilope_transvihmi_gabonDropdown" name="1"><a id="a_grand_singe_antilope_transvihmi_gabonDropdown" name="1" href="#ul_grand_singe_antilope_transvihmi_gabonDropdown" aria-expanded="false" data-toggle="collapse" style="text-decoration:underline"> <i class="icon-Grand_singe_antilope"></i>Grands singes / Antilopes</a>
	                      	  <ul id="ul_grand_singe_antilope_transvihmi_gabonDropdown" name="1" class="collapse list-unstyled">
	                        	<li id="li_grand_singe_antilope_transvihmi_gabon" name="1"><a href="liste_grands_singes_antilopes.html?table=_transvihmi_gabon">données</a></li>                            
	                        	<li id="li_grand_singe_antilope_map_transvihmi_gabon" name="1"><a href="cartographie.html?table=_transvihmi_gabon&type=grand_singe_antilope">carte</a></li>
	                        	<li id="li_importation_grand_singe_antilope_transvihmi_gabon" name="1"><a href="import_export.html?table=_transvihmi_gabon&type=grands_singes_antilopes">importation/exportation</a></li>
	                      	  </ul>
	                    	</li>
	                      </ul>
	                    </li>
	                    
	                    <li id="li_transvihmi_rcaDropdown" name="1" pays="rca"> <a id="a_transvihmi_rcaDropdown" name="1" href="#ul_transvihmi_rcaDropdown" aria-expanded="false" data-toggle="collapse">RCA</a>
                       	  <ul id="ul_transvihmi_rcaDropdown" name="1" pays="rca" class="collapse list-unstyled">
                                              
	                        <li id="li_grand_singe_antilope_transvihmi_rcaDropdown" name="1"><a id="a_grand_singe_antilope_transvihmi_rcaDropdown" name="1" href="#ul_grand_singe_antilope_transvihmi_rcaDropdown" aria-expanded="false" data-toggle="collapse" style="text-decoration:underline"> <i class="icon-Grand_singe_antilope"></i>Grands singes / Antilopes</a>
	                      	  <ul id="ul_grand_singe_antilope_transvihmi_rcaDropdown" name="1" class="collapse list-unstyled">
	                        	<li id="li_grand_singe_antilope_transvihmi_rca" name="1"><a href="liste_grands_singes_antilopes.html?table=_transvihmi_rca">données</a></li>                            
	                        	<li id="li_grand_singe_antilope_map_transvihmi_rca" name="1"><a href="cartographie.html?table=_transvihmi_rca&type=grand_singe_antilope">carte</a></li>
	                        	<li id="li_importation_grand_singe_antilope_transvihmi_rca" name="1"><a href="import_export.html?table=_transvihmi_rca&type=grands_singes_antilopes">importation/exportation</a></li>
	                      	  </ul>
	                    	</li>
	                      </ul>
	                    </li>
	                    
	                    <li id="li_transvihmi_rwandaDropdown" name="1" pays="rwanda"> <a id="a_transvihmi_rwandaDropdown" name="1" href="#ul_transvihmi_rwandaDropdown" aria-expanded="false" data-toggle="collapse">Rwanda</a>
                       	  <ul id="ul_transvihmi_rwandaDropdown" name="1" pays="rwanda" class="collapse list-unstyled">
                                              
	                        <li id="li_grand_singe_antilope_transvihmi_rwandaDropdown" name="1"><a id="a_grand_singe_antilope_transvihmi_rwandaDropdown" name="1" href="#ul_grand_singe_antilope_transvihmi_rwandaDropdown" aria-expanded="false" data-toggle="collapse" style="text-decoration:underline"> <i class="icon-Grand_singe_antilope"></i>Grands singes / Antilopes</a>
	                      	  <ul id="ul_grand_singe_antilope_transvihmi_rwandaDropdown" name="1" class="collapse list-unstyled">
	                        	<li id="li_grand_singe_antilope_transvihmi_rwanda" name="1"><a href="liste_grands_singes_antilopes.html?table=_transvihmi_rwanda">données</a></li>                            
	                        	<li id="li_grand_singe_antilope_map_transvihmi_rwanda" name="1"><a href="cartographie.html?table=_transvihmi_rwanda&type=grand_singe_antilope">carte</a></li>
	                        	<li id="li_importation_grand_singe_antilope_transvihmi_rwanda" name="1"><a href="import_export.html?table=_transvihmi_rwanda&type=grands_singes_antilopes">importation/exportation</a></li>
	                      	  </ul>
	                    	</li>
	                      </ul>
	                    </li>
	                    
	                  </ul>
	                </li>
	                    
                    <li id="li_mivegecDropdown" name="2"> <a id="a_mivegecDropdown" name="2" href="#ul_mivegecDropdown" aria-expanded="false" data-toggle="collapse"> <i class="a-logo-mivegec"></i> </a>
                      <ul id="ul_mivegecDropdown" name="2" class="collapse list-unstyled">
                        
                        <li id="li_site_mivegec" name="2" style="text-align: right"><a href="liste_sites.html?table=_mivegec">Site</a></li>                            
		                
                        <li id="li_bat_mivegecDropdown" name="2"><a id="a_bat_mivegecDropdown" name="2" href="#ul_bat_mivegecDropdown" aria-expanded="false" data-toggle="collapse" style="text-decoration:underline"> <i class="icon-Chauve-souris_Black2"></i>Chauve-souris</a>
                          <ul id="ul_bat_mivegecDropdown" name="2" class="collapse list-unstyled">
		                    
		                    <li id="li_suivi_longitudinal_donnees_missions_mivegecDropdown" name="1"><a id="a_suivi_longitudinal_donnees_missions_mivegecDropdown" name="1" href="#ul_suivi_longitudinal_donnees_missions_mivegecDropdown" aria-expanded="false" data-toggle="collapse">Suivi longitudinal - données missions</a>
			                  <ul id="ul_suivi_longitudinal_donnees_missions_mivegecDropdown" name="1" class="collapse list-unstyled">
			                    <li id="li_suivi_longitudinal_donnees_missions_mivegec" name="1"style="text-align: right"><a href="liste_donnees_missions.html?table=_mivegec">données missions</a></li>
			                   	<li id="li_importation_suivi_longitudinal_donnees_missions_mivegec" name="1"><a href="import_export.html?table=_mivegec&type=donnees_mission">importation/exportation</a></li>                            
	                          </ul>
			                </li>
		                    	                    
		                    <li id="li_suivi_longitudinal_donnees_journalieres_mivegecDropdown" name="1"><a id="a_suivi_longitudinal_donnees_journalieres_mivegecDropdown" name="1" href="#ul_suivi_longitudinal_donnees_journalieres_mivegecDropdown" aria-expanded="false" data-toggle="collapse">Suivi longitudinal - données journalières</a>
			                  <ul id="ul_suivi_longitudinal_donnees_journalieres_mivegecDropdown" name="1" class="collapse list-unstyled">
			                     <li id="li_suivi_longitudinal_donnees_journalieres_mivegec" name="1"style="text-align: right"><a href="liste_donnees_journalieres.html?table=_mivegec">données journalières</a></li>                            
	                        	 <li id="li_importation_suivi_longitudinal_donnees_journalieres_mivegec" name="1"><a href="import_export.html?table=_mivegec&type=donnees_journalieres">importation/exportation</a></li>                            
	                          </ul>
			                </li>
		                    
		                    <li id="li_bat_mivegecCaptureesDropdown" name="2"><a id="a_bat_mivegecCaptureesDropdown" name="2" href="#ul_bat_mivegecCaptureesDropdown" aria-expanded="false" data-toggle="collapse"><i class="icon-capturee"></i>Capturées</a>
		                      <ul id="ul_bat_mivegecCaptureesDropdown" name="2" class="collapse list-unstyled">
		                        <li id="li_bat_capturees_mivegec" name="2"><a href="liste_chauves_souris_capturees.html?table=_mivegec">données</a></li>                            
		                        <li id="li_bat_map_capturees_mivegec" name="2"><a href="cartographie.html?table=_mivegec&type=chauves_souris_capturees">carte</a></li>
		                        <li id="li_importation_bat_capturees_mivegec" name="2"><a href="import_export.html?table=_mivegec&type=chauves_souris_capturees">importation/exportation</a></li>                            
                              </ul>
		                    </li>
		                    <li id="li_bat_mivegecNonInvasivesDropdown" name="2"><a id="a_bat_mivegecNonInvasivesDropdown" name="2" href="#ul_bat_mivegecNonInvasivesDropdown" aria-expanded="false" data-toggle="collapse"></i>Non invasives</a>
		                      <ul id="ul_bat_mivegecNonInvasivesDropdown" name="2" class="collapse list-unstyled">
		                        <li id="li_bat_non_invasives_mivegec" name="2"><a href="liste_chauves_souris_non_invasives.html?table=_mivegec">données</a></li> 
	                            <li id="li_bat_map_non_invasives_mivegec" name="2"><a href="cartographie.html?table=_mivegec&type=chauves_souris_non_invasives">carte</a></li>
    	                        <li id="li_importation_bat_non_invasives_mivegec" name="2"><a href="import_export.html?table=_mivegec&type=chauves_souris_non_invasives">importation/exportation</a></li>
                              </ul>
		                    </li>
	                      </ul>
                	    </li>
                	     <li id="li_viande_de_brousse_mivegecDropdown" name="2"><a id="a_viande_de_brousse_mivegecDropdown" name="2" href="#ul_viande_de_brousse_mivegecDropdown" aria-expanded="false" data-toggle="collapse" style="text-decoration:underline"> <i class="icon-Picto_ANTILOPE"></i>Viande de brousse</a>
                      	  <ul id="ul_viande_de_brousse_mivegecDropdown" class="collapse list-unstyled">
                        	<li id="li_viande_de_brousse_mivegec" name="2"><a href="liste_viande_de_brousse.html?table=_mivegec">données</a></li>                            
                        	<li id="li_viande_de_brousse_map_mivegec" name="2"><a href="cartographie.html?table=_mivegec&type=viande_de_brousse">carte</a></li>
                        	<li id="li_importation_viande_de_brousse_mivegec" name="2"><a href="import_export.html?table=_mivegec&type=viande_de_brousse">importation/exportation</a></li>
                      	  </ul>
                    	</li>                    	
                      </ul>
                    </li>
                                        
                    <li id="li_astreDropdown" name="6"> <a id="a_astreDropdown" name="6" href="#ul_astreDropdown" aria-expanded="false" data-toggle="collapse"> <i class="a-logo-cirad"></i> </a>
                      <ul id="ul_astreDropdown" name="6" class="collapse list-unstyled">
                        
                        <li id="li_astre_guineeDropdown" name="6" pays="guinee"> <a id="a_astre_guineeDropdown" name="6" href="#ul_astre_guineeDropdown" aria-expanded="false" data-toggle="collapse">Guinée</a>
                          <ul id="ul_astre_guineeDropdown" name="6" pays="guinee" class="collapse list-unstyled">
                                              
	                        <li id="li_site_astre_guinee" name="6" style="text-align: right"><a href="liste_sites.html?table=_astre_guinee">Site</a></li>                            
			                
	                        <li id="li_bat_astre_guineeDropdown" name="6"><a id="a_bat_astre_guineeDropdown" name="6" href="#ul_bat_astre_guineeDropdown" aria-expanded="false" data-toggle="collapse" style="text-decoration:underline"> <i class="icon-Chauve-souris_Black2"></i>Chauve-souris</a>
	                          <ul id="ul_bat_astre_guineeDropdown" name="6" class="collapse list-unstyled">
			                    
			                    <li id="li_suivi_longitudinal_donnees_missions_astre_guineeDropdown" name="6"><a id="a_suivi_longitudinal_donnees_missions_astre_guineeDropdown" name="1" href="#ul_suivi_longitudinal_donnees_missions_astre_guineeDropdown" aria-expanded="false" data-toggle="collapse">Suivi longitudinal - données missions</a>
			                      <ul id="ul_suivi_longitudinal_donnees_missions_astre_guineeDropdown" name="6" class="collapse list-unstyled">
			                        <li id="li_suivi_longitudinal_donnees_missions_astre_guinee" name="6"style="text-align: right"><a href="liste_donnees_missions.html?table=_astre_guinee">données missions</a></li>
			                    	<li id="li_importation_suivi_longitudinal_donnees_missions_astre_guinee" name="6"><a href="import_export.html?table=_astre_guinee&type=donnees_mission">importation/exportation</a></li>                            
	                              </ul>
			                    </li>
			                    
			                    <li id="li_suivi_longitudinal_donnees_journalieres_astre_guineeDropdown" name="6"><a id="a_suivi_longitudinal_donnees_journalieres_astre_guineeDropdown" name="1" href="#ul_suivi_longitudinal_donnees_journalieres_astre_guineeDropdown" aria-expanded="false" data-toggle="collapse">Suivi longitudinal - données journalières</a>
			                      <ul id="ul_suivi_longitudinal_donnees_journalieres_astre_guineeDropdown" name="6" class="collapse list-unstyled">
			                        <li id="li_suivi_longitudinal_donnees_journalieres_astre_guinee" name="6"style="text-align: right"><a href="liste_donnees_journalieres.html?table=_astre_guinee">données journalières</a></li>                            
	                        		<li id="li_importation_suivi_longitudinal_donnees_journalieres_astre_guinee" name="6"><a href="import_export.html?table=_astre_guinee&type=donnees_journalieres">importation/exportation</a></li>                            
	                              </ul>
			                    </li>
	                        		                    
			                    <li id="li_bat_astre_guineeCaptureesDropdown" name="6"><a id="a_bat_astre_guineeCaptureesDropdown" name="6" href="#ul_bat_astre_guineeCaptureesDropdown" aria-expanded="false" data-toggle="collapse">Capturées</a>
			                      <ul id="ul_bat_astre_guineeCaptureesDropdown" name="6" class="collapse list-unstyled">
			                        <li id="li_bat_capturees_astre_guinee" name="6"><a href="liste_chauves_souris_capturees.html?table=_astre_guinee">données</a></li>                            
			                        <li id="li_bat_map_capturees_astre_guinee" name="6"><a href="cartographie.html?table=_astre_guinee&type=chauves_souris_capturees">carte</a></li>
			                        <li id="li_importation_bat_capturees_astre_guinee" name="6"><a href="import_export.html?table=_astre_guinee&type=chauves_souris_capturees">importation/exportation</a></li>                            
	                              </ul>
			                    </li>
			                    <li id="li_bat_astre_guineeNonInvasivesDropdown" name="6"><a id="a_bat_astre_guineeNonInvasivesDropdown" name="6" href="#ul_bat_astre_guineeNonInvasivesDropdown" aria-expanded="false" data-toggle="collapse">Non invasives</a>
			                      <ul id="ul_bat_astre_guineeNonInvasivesDropdown" name="6" class="collapse list-unstyled">
			                        <li id="li_bat_non_invasives_astre_guinee" name="6"><a href="liste_chauves_souris_non_invasives.html?table=_astre_guinee">données</a></li> 
		                            <li id="li_bat_map_non_invasives_astre_guinee" name="6"><a href="cartographie.html?table=_astre_guinee&type=chauves_souris_non_invasives">carte</a></li>
	    	                        <li id="li_importation_bat_non_invasives_astre_guinee" name="6"><a href="import_export.html?table=_astre_guinee&type=chauves_souris_non_invasives">importation/exportation</a></li>
	                              </ul>
	                            </li>
	                          </ul>
	                        </li>                          
                          </ul>
                   	    </li>
                   	    
                   	    <li id="li_astre_congoDropdown" name="6" pays="congo"> <a id="a_astre_congoDropdown" name="6" href="#ul_astre_congoDropdown" aria-expanded="false" data-toggle="collapse">République du Congo</a>
                          <ul id="ul_astre_congoDropdown" name="6" pays="congo" class="collapse list-unstyled">
                                              
	                        <li id="li_site_astre_congo" name="6" style="text-align: right"><a href="liste_sites.html?table=_astre_congo">Site</a></li>                            
			                
	                        <li id="li_bat_astre_congoDropdown" name="6"><a id="a_bat_astre_congoDropdown" name="6" href="#ul_bat_astre_congoDropdown" aria-expanded="false" data-toggle="collapse" style="text-decoration:underline"> <i class="icon-Chauve-souris_Black2"></i>Chauve-souris</a>
	                          <ul id="ul_bat_astre_congoDropdown" name="6" class="collapse list-unstyled">
			                    
			                    <li id="li_suivi_longitudinal_donnees_missions_astre_congoDropdown" name="6"><a id="a_suivi_longitudinal_donnees_missions_astre_congoDropdown" name="1" href="#ul_suivi_longitudinal_donnees_missions_astre_congoDropdown" aria-expanded="false" data-toggle="collapse">Suivi longitudinal - données missions</a>
			                      <ul id="ul_suivi_longitudinal_donnees_missions_astre_congoDropdown" name="6" class="collapse list-unstyled">
			                        <li id="li_suivi_longitudinal_donnees_missions_astre_congo" name="6"style="text-align: right"><a href="liste_donnees_missions.html?table=_astre_congo">données missions</a></li>
			                    	<li id="li_importation_suivi_longitudinal_donnees_missions_astre_congo" name="6"><a href="import_export.html?table=_astre_congo&type=donnees_mission">importation/exportation</a></li>                            
	                              </ul>
			                    </li>
			                    
			                    <li id="li_suivi_longitudinal_donnees_journalieres_astre_congoDropdown" name="6"><a id="a_suivi_longitudinal_donnees_journalieres_astre_congoDropdown" name="1" href="#ul_suivi_longitudinal_donnees_journalieres_astre_congoDropdown" aria-expanded="false" data-toggle="collapse">Suivi longitudinal - données journalières</a>
			                      <ul id="ul_suivi_longitudinal_donnees_journalieres_astre_congoDropdown" name="6" class="collapse list-unstyled">
			                        <li id="li_suivi_longitudinal_donnees_journalieres_astre_congo" name="6"style="text-align: right"><a href="liste_donnees_journalieres.html?table=_astre_congo">données journalières</a></li>                            
	                        		<li id="li_importation_suivi_longitudinal_donnees_journalieres_astre_congo" name="6"><a href="import_export.html?table=_astre_congo&type=donnees_journalieres">importation/exportation</a></li>                            
	                              </ul>
			                    </li>
			                    	                    
			                    <li id="li_bat_astre_congoCaptureesDropdown" name="6"><a id="a_bat_astre_congoCaptureesDropdown" name="6" href="#ul_bat_astre_congoCaptureesDropdown" aria-expanded="false" data-toggle="collapse">Capturées</a>
			                      <ul id="ul_bat_astre_congoCaptureesDropdown" name="6" class="collapse list-unstyled">
			                        <li id="li_bat_capturees_astre_congo" name="6"><a href="liste_chauves_souris_capturees.html?table=_astre_congo">données</a></li>                            
			                        <li id="li_bat_map_capturees_astre_congo" name="6"><a href="cartographie.html?table=_astre_congo&type=chauves_souris_capturees">carte</a></li>
			                        <li id="li_importation_bat_capturees_astre_congo" name="6"><a href="import_export.html?table=_astre_congo&type=chauves_souris_capturees">importation/exportation</a></li>                            
	                              </ul>
			                    </li>
			                    <li id="li_bat_astre_congoNonInvasivesDropdown" name="6"><a id="a_bat_astre_congoNonInvasivesDropdown" name="6" href="#ul_bat_astre_congoNonInvasivesDropdown" aria-expanded="false" data-toggle="collapse">Non invasives</a>
			                      <ul id="ul_bat_astre_congoNonInvasivesDropdown" name="6" class="collapse list-unstyled">
			                        <li id="li_bat_non_invasives_astre_congo" name="6"><a href="liste_chauves_souris_non_invasives.html?table=_astre_congo">données</a></li> 
		                            <li id="li_bat_map_non_invasives_astre_congo" name="6"><a href="cartographie.html?table=_astre_congo&type=chauves_souris_non_invasives">carte</a></li>
	    	                        <li id="li_importation_bat_non_invasives_astre_congo" name="6"><a href="import_export.html?table=_astre_congo&type=chauves_souris_non_invasives">importation/exportation</a></li>
	                              </ul>
	                            </li>
	                          </ul>
	                        </li>                          
                          </ul>
                   	    </li>
                   	    
                   	    <li id="li_astre_gabonDropdown" name="6" pays="gabon"> <a id="a_astre_gabonDropdown" name="6" href="#ul_astre_gabonDropdown" aria-expanded="false" data-toggle="collapse">Gabon</a>
                          <ul id="ul_astre_gabonDropdown" name="6" pays="gabon" class="collapse list-unstyled">
                                              
	                        <li id="li_site_astre_gabon" name="6" style="text-align: right"><a href="liste_sites.html?table=_astre_gabon">Site</a></li>                            
			                
	                        <li id="li_bat_astre_gabonDropdown" name="6"><a id="a_bat_astre_gabonDropdown" name="6" href="#ul_bat_astre_gabonDropdown" aria-expanded="false" data-toggle="collapse" style="text-decoration:underline"> <i class="icon-Chauve-souris_Black2"></i>Chauve-souris</a>
	                          <ul id="ul_bat_astre_gabonDropdown" name="6" class="collapse list-unstyled">
			                    
			                    <li id="li_suivi_longitudinal_donnees_missions_astre_gabonDropdown" name="6"><a id="a_suivi_longitudinal_donnees_missions_astre_gabonDropdown" name="1" href="#ul_suivi_longitudinal_donnees_missions_astre_gabonDropdown" aria-expanded="false" data-toggle="collapse">Suivi longitudinal - données missions</a>
			                      <ul id="ul_suivi_longitudinal_donnees_missions_astre_gabonDropdown" name="6" class="collapse list-unstyled">
			                        <li id="li_suivi_longitudinal_donnees_missions_astre_gabon" name="6"style="text-align: right"><a href="liste_donnees_missions.html?table=_astre_gabon">données missions</a></li>
			                    	<li id="li_importation_suivi_longitudinal_donnees_missions_astre_gabon" name="6"><a href="import_export.html?table=_astre_gabon&type=donnees_mission">importation/exportation</a></li>                            
	                              </ul>
			                    </li>
			                    
			                    <li id="li_suivi_longitudinal_donnees_journalieres_astre_gabonDropdown" name="6"><a id="a_suivi_longitudinal_donnees_journalieres_astre_gabonDropdown" name="1" href="#ul_suivi_longitudinal_donnees_journalieres_astre_gabonDropdown" aria-expanded="false" data-toggle="collapse">Suivi longitudinal - données journalières</a>
			                      <ul id="ul_suivi_longitudinal_donnees_journalieres_astre_gabonDropdown" name="6" class="collapse list-unstyled">
			                        <li id="li_suivi_longitudinal_donnees_journalieres_astre_gabon" name="6"style="text-align: right"><a href="liste_donnees_journalieres.html?table=_astre_gabon">données journalières</a></li>                            
	                        		<li id="li_importation_suivi_longitudinal_donnees_journalieres_astre_gabon" name="6"><a href="import_export.html?table=_astre_gabon&type=donnees_journalieres">importation/exportation</a></li>                            
	                              </ul>
			                    </li>
	                        		                    
			                    <li id="li_bat_astre_gabonCaptureesDropdown" name="6"><a id="a_bat_astre_gabonCaptureesDropdown" name="6" href="#ul_bat_astre_gabonCaptureesDropdown" aria-expanded="false" data-toggle="collapse">Capturées</a>
			                      <ul id="ul_bat_astre_gabonCaptureesDropdown" name="6" class="collapse list-unstyled">
			                        <li id="li_bat_capturees_astre_gabon" name="6"><a href="liste_chauves_souris_capturees.html?table=_astre_gabon">données</a></li>                            
			                        <li id="li_bat_map_capturees_astre_gabon" name="6"><a href="cartographie.html?table=_astre_gabon&type=chauves_souris_capturees">carte</a></li>
			                        <li id="li_importation_bat_capturees_astre_gabon" name="6"><a href="import_export.html?table=_astre_gabon&type=chauves_souris_capturees">importation/exportation</a></li>                            
	                              </ul>
			                    </li>
			                    <li id="li_bat_astre_gabonNonInvasivesDropdown" name="6"><a id="a_bat_astre_gabonNonInvasivesDropdown" name="6" href="#ul_bat_astre_gabonNonInvasivesDropdown" aria-expanded="false" data-toggle="collapse">Non invasives</a>
			                      <ul id="ul_bat_astre_gabonNonInvasivesDropdown" name="6" class="collapse list-unstyled">
			                        <li id="li_bat_non_invasives_astre_gabon" name="6"><a href="liste_chauves_souris_non_invasives.html?table=_astre_gabon">données</a></li> 
		                            <li id="li_bat_map_non_invasives_astre_gabon" name="6"><a href="cartographie.html?table=_astre_gabon&type=chauves_souris_non_invasives">carte</a></li>
	    	                        <li id="li_importation_bat_non_invasives_astre_gabon" name="6"><a href="import_export.html?table=_astre_gabon&type=chauves_souris_non_invasives">importation/exportation</a></li>
	                              </ul>
	                            </li>
	                          </ul>
	                        </li>                          
                          </ul>
                   	    </li>
                   	    
                      </ul>
                    </li>                   

					<li id="li_CIBUDropdown" name="3"> <a id="a_CIBUDropdown" name="3" href="#ul_CIBUDropdown" aria-expanded="false" data-toggle="collapse"> <i class="a-logo-institut-pasteur"></i> </a>
                      <ul id="ul_CIBUDropdown" name ="3" class="collapse list-unstyled">
                        <li id="li_individuCIBUDropdown" name="3"><a id="a_individuCIBUDropdown" name="3" href="#ul_individuCIBUDropdown" aria-expanded="false" data-toggle="collapse" style="text-decoration:underline"> <i class="icon-rodent"></i>Individus</a>
                          <ul id="ul_individuCIBUDropdown" name="3" class="collapse list-unstyled">
                            <li id="li_individu_CIBU" name="3"><a href="liste_individus_cibu.html?table=individus_cibu">données</a></li>                            
	                        <li id="li_individu_map_cibu" name ="3"><a href="#">carte</a></li>
	                        <li id="li_importation_individu_cibu" name="3"><a href="#">importation/exportation</a></li>                            
                          </ul>
		                </li>
		                <li id="li_prelevementCIBUDropdown" name="3"><a id="a_prelevementCIBUDropdown" name="3" href="#ul_prelevementCIBUDropdown" aria-expanded="false" data-toggle="collapse">Prélèvement</a>
		                  <ul id="ul_prelevementCIBUDropdown" name ="3" class="collapse list-unstyled">
		                    <li id="li_prelevement_CIBU" name="3"><a href="liste_prelevements_cibu.html?table=prelevements_cibu">données</a></li>                            
		                    <li id="li_importation_prelevement_cibu" name="3"><a href="#">importation/exportation</a></li>                            
                          </ul>
		                </li>
	                  </ul>
                    </li>

                    <li id="li_EpvoDropdown" name="4"> <a id="a_EpvoDropdown" href="#ul_EpvoDropdown" aria-expanded="false" data-toggle="collapse"> <i class="a-logo-epvo"></i> </a>
                      <ul id="ul_EpvoDropdown" class="collapse list-unstyled">
                        <li id="li_batEpvoDropdown" name="4"><a id="a_batEpvoDropdown" href="#ul_batEpvoDropdown" aria-expanded="false" data-toggle="collapse" style="text-decoration:underline"> <i class="icon-Chauve-souris_Black2"></i>Chauve-souris</a>
                          <ul id="ul_batEpvoDropdown" class="collapse list-unstyled">
		                    <li id="li_batEpvoCaptureesDropdown" name="4"><a id="a_batEpvoCaptureesDropdown" href="#ul_batEpvoCaptureesDropdown" aria-expanded="false" data-toggle="collapse">Capturées</a>
		                      <ul id="ul_batEpvoCaptureesDropdown" class="collapse list-unstyled">
		                        <li id="li_bat_capturees_epvo" name="4"><a href="#">données</a></li>                            
		                        <li id="li_bat_map_capturees_epvo" name="4"><a href="#">carte</a></li>
		                        <li id="li_importation_bat_epvo" name="4"><a href="#">importation/exportation</a></li>                            
                              </ul>
		                    </li>
		                    <li id="li_batEpvoNonInvasivesDropdown" name="4"><a id="a_batEpvoNonInvasivesDropdown" href="#ul_batEpvoNonInvasivesDropdown" aria-expanded="false" data-toggle="collapse">Non invasives</a>
		                      <ul id="ul_batEpvoNonInvasivesDropdown" class="collapse list-unstyled">
		                        <li id="li_bat_non_invasives_epvo" name="4"><a href="#">données</a></li>                          
	                            <li id="li_bat_map_non_invasives_epvo" name="4"><a href="#">carte</a></li>
    	                        <li id="li_importation_bat_epvo" name="4"><a href="#">importation/exportation</a></li>
                              </ul>
		                    </li>
	                      </ul>
                	    </li>
                	  </ul>
                    </li>
                    
                    <li id="li_ipgDropdown" name="5"> <a id="a_ipgDropdown" href="#ul_ipgDropdown" aria-expanded="false" data-toggle="collapse"> <i class="a-logo-IPG"></i> </a>
                      <ul id="ul_ipgDropdown" class="collapse list-unstyled">
                          
                        <li id="li_ipg_guineeDropdown" name="5" pays="guinee"> <a id="a_ipg_guineeDropdown" name="5" href="#ul_ipg_guineeDropdown" aria-expanded="false" data-toggle="collapse">Guinée</a>
                      	  <ul id="ul_ipg_guineeDropdown" name="5" pays="guinee" class="collapse list-unstyled">
                            <li id="li_animals_ipg_guinee" name="5"><a href="liste_animals_ipg.html?table=_ipg_guinee">données</a></li>                            
		                    <li id="li_animals_map_ipg_guinee" name="5"><a href="cartographie.html?table=_ipg_guinee&type=animals_ipg">carte</a></li>
		                    <li id="li_importation_animals_ipg_guinee" name="5"><a href="import_export.html?table=_ipg_guinee&type=animals_ipg">importation/exportation</a></li>                            
                          </ul>
		                </li>
                        
                	  </ul>
                    </li>
                    
                    <li id="li_help"> 
                    	<a href="aide.html"><i class='a-aide'></i></a>
                    </li>
                    
                    <li id="li_sauvegarde" style="display:none"> 
                    	<a href="sauvegarde.html">Sauvegarde mensuelle</a>
                    </li>
                                    
          </ul>
        </nav>
        <div class="content-inner">
          <!-- Page Header-->
          <header class="page-header">
            <div class="container-fluid">
              <h2 class="no-margin-bottom">Base de données mission</h2>
            </div>
          </header>
          
          <section>          
            <div class="container-fluid">              
              <div class="row">                
                <div class="col-lg-12">                  
                  <div class="card">        
                    <div class="card-header" id="header">
                      <!-- <h4>Suivi longitudinal - données mission</h4> -->
                      <script type="text/javascript">
	                    var line = document.createElement("div");
	                    option = searchParams.get('option');
	                    nom_table = searchParams.get('table');
	                    if ((option == 0) || (option == 1)) {
	                    	line.innerHTML = '<h4>Nouvelle mission</h4>';
	                    } else if (option == 2) {
	                    	var ID = 'ID_donnees_mission' + nom_table;
	                    	line.innerHTML = '<h4>Modifier la mission : ID = '+ localStorage.getItem(ID) + '</h4>';
	                    }
		             	document.getElementById("header").appendChild(line);
		         	 </script>
                    </div>
                    <div class="card-body">                                            
                      <form id="documentForm" name="documentForm" class="needs-validation" method="post" novalidate>
				        
				        <div class="card bg-light">
				          <div class="card-header card-header-transparent d-flex align-items-center">
                            <h3 class="h4">Identification</h3>
                          </div>
                          <div class="card-body">
                            <div class="row">
                              <div class="col-lg-4">
		            			<div class="form-group">
		                          <label for="Date_debut">Date de début</label>                                
		                          <div class="input-group">
		    						<input type="text" class="form-control input-datepicker" id="Date_debut"  name="Date_debut" placeholder="Date de début" required>
		    						<div class="input-group-addon open-datepicker btn btn-primary" id="spanDate1">
		                              <span class="fa fa-calendar"></span>
		    						</div>
		    					    <div class="invalid-feedback">
			                          S'il vous plaît fournir une date de début valide !
			                        </div>
		                          </div>
		    				    </div> 
		    				  </div>
		    				  <div class="col-lg-4">
		            			<div class="form-group">
		                          <label for="Date_fin">Date de fin</label>                                
		                          <div class="input-group">
		    						<input type="text" class="form-control input-datepicker" id="Date_fin"  name="Date_fin" placeholder="Date de fin" required>
		    						<div class="input-group-addon open-datepicker btn btn-primary" id="spanDate2">
		                              <span class="fa fa-calendar"></span>
		    						</div>
		    					    <div class="invalid-feedback">
			                          S'il vous plaît fournir une date de fin valide !
			                        </div>
		                          </div>
		    				    </div> 
		    				  </div>
		    				  <div class="col-lg-4">
		       					<div class="form-group">
				                  <label for="Equipe">Equipe</label>
			                      <input type="text" class="form-control" id="Equipe" placeholder="Equipe" >
			                    </div>  	
			                  </div> 
                            </div>
                            <div class="row">
                              <div class="col-lg-6">                    	      
	      			    	    <div class="form-group">
	      			    	      <label for="ID_CS_debut">ID chauves-souris début</label>
					              <div class="input-group">
					                <input type="text" class="form-control" id="ID_CS_debut" placeholder="ID chauves-souris début" required>
	                                <div class="invalid-feedback">
		                      	      S'il vous plaît fournir un identifiant de chauve-souris valide !	      				  	      				    
	    					        </div>
	    					      </div>
	    					    </div>
							  </div>
						      <div class="col-lg-6">	
							    <div class="form-group">	  
							      <label for="ID_CS_fin">ID chauves-souris fin</label>
				          	      <input type="text" class="form-control" id="ID_CS_fin" placeholder="ID chauves-souris fin" >
                        	      <div class="invalid-feedback">
		                      	      S'il vous plaît fournir un identifiant de chauve-souris valide !	      				  	      				    
	    					      </div>
                        	    </div>											    
                              </div>
                            </div>        
                            <div class="row">
                              <div class="col-lg-6">                    	      
	      			    	    <div class="form-group">
	      			    	      <label for="ID_non_invasif_debut">ID non-invasif début</label>
					              <div class="input-group">
					                <input type="text" class="form-control" id="ID_non_invasif_debut" placeholder="ID non-invasif début" required>
	                                <div class="invalid-feedback">
		                      	      S'il vous plaît fournir un identifiant de chauve-souris valide !	      				  	      				    
	    					        </div>
	    					      </div>
	    					    </div>
							  </div>
						      <div class="col-lg-6">	
							    <div class="form-group">	  
							      <label for="ID_non_invasif_fin">ID non-invasif fin</label>
				          	      <input type="text" class="form-control" id="ID_non_invasif_fin" placeholder="ID non-invasif fin" required>
                        	      <div class="invalid-feedback">
		                      	      S'il vous plaît fournir un identifiant de chauve-souris valide !	      				  	      				    
	    					      </div>
                        	    </div>											    
                              </div>
                            </div> 
                            
                            <div class="row">
                              <div class="col-lg-4">                    	      
	      			    	    <div class="form-group">
	      			    	      <label for="Numero_mission">Numero mission</label>
					              <input type="text" class="form-control" id="Numero_mission" placeholder="Numero mission" required>
	                            </div>
							  </div>
						    </div>
                                                                                                           
                          </div>
                        </div>
                        
                        <div class="card bg-light">
				          <div class="card-header card-header-transparent d-flex align-items-center">
                            <h3 class="h4">Données du site</h3>
                          </div>
                          <div class="card-body">
		      				
		      				<div class="row">
		      				  <div class="col-lg-4">
	            				<div class="form-group">
				                  <label for="N_site">N site</label>
			                      <div class="input-group">	                        
			                        <select id="N_site" class="form-control" onchange="select_N_site(this)">
	                                  <option></option>
	                          	    </select>
	                              </div>
			                    </div> 
	    					  </div>
	    					</div>	
		      				
		      				<div id="child_site" style="display: block;">		      				
			      				<div class="row">
			      				  <div class="col-lg-6">           
			                        <div class="form-group">
			                          <label for="Pays">Pays</label>
			                          <div class="input-group">	                        
			                            <select id="Pays" class="form-control" required>
		                                  <option></option>
		                          	    </select>
		                                <label id="nouveauPays" class="input-group-addon btn btn-primary" for="Pays" data-toggle="modal" data-target="#nouvelleReference">
		       					          <span class="fa fa-plus"></span>
		    					        </label>
			                            <div class="invalid-feedback">
			        			          S'il vous plaît fournir un pays valide !
			      				        </div>
			      				      </div>
			      			        </div>
			      			      </div>
			      			    </div>	 
			      			       			      				      			    
			      			    <div class="row">
			      				  <div class="col-lg-6">
			      			        <div class="form-group">
			                          <label for="Region_capture">Région (ex. nom de la ville, nom du parc...)</label>
			                          <input type="text" class="form-control" id="Region_capture" placeholder="Région (ex. nom de la ville, nom du parc...)">
			                        </div>
			      			      </div>
			      			      <div class="col-lg-6">
			      			        <div class="form-group">
			                          <label for="Site_capture">Site précis de capture (ex. village, lieu-dit)</label>
			                          <input type="text" class="form-control" id="Site_capture" placeholder="Site précis de capture (ex. village, lieu-dit)">
			                        </div>
			      				  </div>
			      			    </div>	 
			      			         		
			      			    <div class="row">
			      			      <div class="col-lg-6">	    
			      			        <div class="form-group">
			                          <label for="Environnement">Environnement (ex. forêt)</label>
			                          <div class="input-group">	                        
			                            <select id="Environnement" class="form-control" required>
		                                  <option></option>
		                                  <option>Ville</option>
		                            	  <option>Village</option>
		                            	  <option>Verger</option>
		                            	  <option>Plantation</option>
		                            	  <option>Autre plantation</option>
		                            	  <option>Culture</option>
		                            	  <option>Foret</option>
		                            	  <option>Forêt primaire</option>
		                            	  <option>Forêt secondaire</option>
		                            	  <option>Végétation arbustive</option>
		                            	  <option>Végétation herbacée savane</option>
		                            	  <option>Marais</option>
		                          	    </select>
			                            <div class="invalid-feedback">
			        			          S'il vous plaît fournir un environnement valide !
			      				        </div>
			      				      </div>
			      				    </div>
			      			      </div>
			      			      <div class="col-lg-6">      
		                            <div class="form-group">
			                          <label for="Proximite_village_km">Proximité du village en km</label>
			                          <input type="text" class="form-control" id="Proximite_village_km" placeholder="Proximité du village en km" >
			                        </div>	      				  
			      				  </div>
			      			    </div>     			    
			      			    
			      			    <div class="row">
		                    	  <div class="col-lg-4">
			      			    	<div class="form-group">
			      			    	  <label for="Lat_degre_dec">Latitude coord. (deg. déc.)</label>
									  <input type="text" class="form-control" id="Lat_degre_dec" placeholder="Latitude coordonnées" >
									</div>
								  </div>
								  <div class="col-lg-2">	
									<div class="form-group">	  
									  <label for="Latitude">Latitude</label>
		                          	  <select id="Latitude" class="form-control" required >
		                            	<option></option>
		                            	<option>N</option>
		                            	<option>S</option>
		                            	<option>Manquant</option>
		                          	  </select>
		                          	  <div class="invalid-feedback">
									    Latitude !
									  </div>
		                          	</div>	
		                          </div>											    
		                          <div class="col-lg-4">      			        
								    <div class="form-group">
									  <label for="Long_degre_dec">Longitude coord. (deg. déc.)</label>
									  <input type="text" class="form-control" id="Long_degre_dec" placeholder="Longitude coordonnées" >
									</div>	
								  </div>
								  <div class="col-lg-2">
								    <div class="form-group">
		                              <label for="Longitude">Longitude</label>
		                              <select id="Longitude" class="form-control" required >
		                                <option></option>
		                                <option>E</option>
		                                <option>W</option>
		                                <option>Manquant</option>
		                              </select>
		                              <div class="invalid-feedback">
									    Longitude !
									  </div>
		                            </div>
		                          </div>
		                        </div>
		                      </div>
			      			</div>
                        </div>
                        
                        <div class="card bg-light">
				          <div class="card-header card-header-transparent d-flex align-items-center">
                            <h3 class="h4">Phénologie végétale</h3>
                          </div>
                          <div class="card-body">
                          	<div class="row">                         	
                          	  <div class="col-lg-6">	    
			      		  	    <div class="form-group">
			                      <label for="Type">Type</label>
			                      <div class="input-group">	                        
			                        <select id="Type" class="form-control" required>
		                              <option></option>
		                              <option>Roost</option>
		                              <option>Nourrissage</option>
		                              <option>Roost/nourrissage</option>
		                              <option>Leck</option>
		                            </select>
			                        <div class="invalid-feedback">
			        	  	  	      S'il vous plaît fournir un type valide !
			      		  	  	    </div>
			      		  	  	  </div>
			      		  	    </div>    
			      		  	  </div> 
			      		  	  <div class="col-lg-6">	    
			      		  	    <div class="form-group">
			                      <label for="Type_Roost">Type de roost</label>
			                      <div class="input-group">	                        
			                        <select id="Type_Roost" class="form-control">
		                              <option></option>
		                              <option>Arbre</option>
		                              <option>Grotte</option>
		                              <option>Maison</option>
		                              <option>Autre</option>
		                            </select>
			      		  	  	  </div>
			      		  	    </div>    
			      		  	  
                          	  </div> 
                          	</div>                           
                          	
                          	<div class="row">
		                      <div class="col-lg-6">
			      			  	<div class="form-group">
			      			   	  <label for="Proximite_eau">Proximité d'un point d'eau (m)</label>
								  <input type="text" class="form-control" id="Proximite_eau" placeholder="Proximité d'un point d'eau (m)" >
								</div>
							  </div>
                          	  <div class="col-lg-6">
			      			   	<div class="form-group">
			      			   	  <label for="Hauteur_canope">Hauteur canopée (m)</label>
								  <input type="text" class="form-control" id="Hauteur_canope" placeholder="Hauteur canopée (m)" >
								</div>
							  </div>
                          	</div>
                          	
                          	<div class="row">  		
		      			      <div class="col-lg-12">	      
	    	      			    <div class="form-group">
		      			          <label for="Description_site">Description du site</label>
		                    	  <textarea class="form-control col-xs-12" id="Description_site" placeholder="Description du site" rows="3"></textarea>
		                        </div>
		      			      </div>
		                    </div> 
                          						      
						    <div class="row">
		                      <div class="col-lg-6">
			      			    <div class="form-group">
			      			      <label for="ID_genet_espece">Echantillon génétique d'espèce végétale ID</label>
								  <input type="text" class="form-control" id="ID_genet_espece" placeholder="Echantillon génétique d'espèce végétale ID" >
								</div>
							  </div>
							</div>
                          	
                        <!--  		      			      	      			      
		      			  </div>		      			      	      			      	      			      
		      			</div>
		      			
		      			<div class="card bg-light">
				          <div class="card-header card-header-transparent d-flex align-items-center">
                            <h3 class="h4">Caractérisation du site</h3>
                          </div>
                          <div class="card-body"> -->
                          
                            <div class="content table-responsive table-full-width">
                        	  
                        	  <div class="col-lg-2">	      
	    	      			    <div class="form-group">
								  <button id="addPhenologie" class="btn btn-danger btn-sm" style="width:100%; height: 100%">
                    				<i class="fa fa-plus"></i>
	               				  </button>
								</div>
						      </div>
                        	  
                        	  <table id="example" class="table table-striped table-sm compact nowrap"> 
                          
		                        <thead>
						          <tr>
						            <th>Famille</th>
						            <th>Genre</th>
						            <th>Espece</th>
						            <th>Phénologie</th>
						            <th>Statut</th>
						            <th></th>
						          </tr>
						        </thead>
                          
                        	  </table>
                        	  
                        	  
                            </div>
		      			                                                                                         
                          </div>
                        </div>
                        
                        
                        <div class="card bg-light">
				          <div class="card-header card-header-transparent d-flex align-items-center">
                            <h3 class="h4">Interactions autres animaux et homme</h3>
                          </div>
                          <div class="card-body">
                        
	                        <div class="row">
		                      <div class="col-lg-6">
			      			  	<div class="form-group">
			      			   	  <label for="Espece_animale_sauvage">Espèces animales sauvages observées</label>
								  <input type="text" class="form-control" id="Espece_animale_sauvage" placeholder="Espèces animales sauvages observées" >
								</div>
							  </div>
                          	  <div class="col-lg-6">
			      			   	<div class="form-group">
			      			   	  <label for="Espece_animale_domestique">Espèces animales domestiques observées</label>
								  <input type="text" class="form-control" id="Espece_animale_domestique" placeholder="Espèces animales domestiques observées" >
								</div>
							  </div>
                          	</div>
                          	
                          	<div class="row">                         	
                          	  <div class="col-lg-6">	    
			      		  	    <div class="form-group">
			                      <label for="Interaction">Interaction CS/faune dom ou sauv</label>
			                      <div class="input-group">	                        
			                        <select id="Interaction" class="form-control" required>
		                              <option></option>
		                              <option>Oui</option>
		                              <option>Non</option>
		                            </select>
			                        <div class="invalid-feedback">
			        	  	  	      Indiquez s'il y a une interaction !
			      		  	  	    </div>
			      		  	  	  </div>
			      		  	    </div>    
			      		  	  </div>
			      		  	</div> 
			      		  	
			      		  	<div class="row">  		
		      			      <div class="col-lg-12">	      
	    	      			    <div class="form-group">
		      			          <label for="Description_interaction_animaux">Description de l'interaction</label>
		                    	  <textarea class="form-control col-xs-12" id="Description_interaction_animaux" placeholder="Description de l'interaction" rows="3"></textarea>
		                        </div>
		      			      </div>
		                    </div>        
		                    
		                    <div class="row">                         	
                          	  <div class="col-lg-3">
                          	    <div class="form-group">
                          	      <label>Activité humaine observée</label>
		                        </div>  
		                      </div>
		                      <div class="col-lg-6">
		                        <div class="form-group">
                          	      <div id="test"></div>
                          	      <script type="text/javascript">
               				
	                          	    	i = 0;
		                          	    
	                          	    	if (localStorage.getItem('web') === 'oui') {
			              					var remote_couchdb = localStorage.getItem('remote_couchdb');
			              					var DB = new PouchDB(remote_couchdb + 'activite_humaine' + nom_table + debug);
			              				} else {
			              					var DB = new PouchDB('activite_humaine' + nom_table + debug);
			              				};
		                          		
			              				DB.allDocs({  		
		                          			include_docs: true,
		                          			attachments: true
		                          		}).then(function (result) {
		                          			// handle result
		                          			if (typeof(JSON.stringify(result)) != "undefined"){  
		                          		    	var activite_humaineTablesData = JSON.parse(JSON.stringify(result));
		                          		    	
		                          		    	
		                          		    	activite_humaineTablesData.rows.forEach(function(row){   
		                          		
		                          		    		var line = document.createElement("div");
		    		                          		line.innerHTML = '<label id="labelActivite_humaine' + i + '" class="checkbox-inline">' +
		                		                    					'<input id="Activite_humaine' + i + '" name="Activite_humaine" type="checkbox" value="' + row.doc.Activite_humaine + '"> ' +
		                		                    					row.doc.Activite_humaine +
		                		                    				 '</label>';
		                		                    document.getElementById("test").appendChild(line);
		         		    		                console.log('num checkbox : ' + i);
		                		                    i++;
		                		              	});		 
		                          		    }
		                          		}).catch(function (err) {
		                          			console.log(err);
		                          		});
		                          </script>
                          	    </div>
		                      </div>	
		                      <div class="col-lg-3">	      
	    	      		  	    <label id="nouvelleActiviteHumaine" class="input-group-addon btn btn-primary" for="test" data-toggle="modal" data-target="#nouvelleReference" style="text-align: left">
		       					    <span class="fa fa-plus"></span>
		    					</label>
						      </div>	
		      			    </div>
		      			    
		      			    <div class="row">
		      			      <div class="col-lg-12">	      
	    	      			    <div class="form-group">
		      			          <label for="Description_interaction_homme">Description de l'interaction CS/homme</label>
		                          <textarea class="form-control col-xs-12" id="Description_interaction_homme" placeholder="Description de l'interaction CS/homme" rows="3"></textarea>
		                        </div>
		      			      </div>
		                    </div>      
		                    
		                    <div class="row">                         	
                              <div class="col-lg-4">	    
			      		        <div class="form-group">
			                      <label for="Camera_trap">Camera-trap</label>
			                      <div class="input-group">	                        
			                        <select id="Camera_trap" class="form-control" required>
		                              <option></option>
		                              <option>Oui</option>
		                              <option>Non</option>
		                            </select>
			                        <div class="invalid-feedback">
			        	     	      Camera-trap ?
			      		  	  	    </div>
			      		  	  	  </div>
			      		  	    </div>  
			      		  	  </div>  
			      		  	  <div class="col-lg-4">
			      			    <div class="form-group">
			      			      <label for="Heure_debut_camera">Heure début</label>
								  <input type="time" class="form-control" id="Heure_debut_camera" placeholder="Heure début" >
							    </div>
							  </div>
                          	  <div class="col-lg-4">
			      			    <div class="form-group">
			      			      <label for="Heure_fin_camera">Heure fin</label>
								  <input type="time" class="form-control" id="Heure_fin_camera" placeholder="Heure fin" >
								</div>
							  </div>
							</div>    
		      			    
                          </div>
                          
                        </div>
	      			      
	      			    <div class="card-body text-right" id="header_button">
                          
                          <script type="text/javascript">
			               		var line = document.createElement("div");
			                    /*let searchParams2 = new URLSearchParams(window.location.search);
			                    var option = searchParams2.get('option');*/
			                    if ((option == 0) || (option == 1)) {
			                    	line.innerHTML = 
			                          '<div class="row">' +
			                            '<div class="col-lg-9">' +
			                              '<div class="form-group">' +
			                                '<button id="save" name="save" type="submit" class="btn btn-primary btn-fill ladda-button" data-style="expand-right">' +                        	
					            	  	      '<span class="ladda-label">Sauver données mission</span>' +
					            	  	      '<span class="ladda-spinner"></span>' +
									        '</button>' +  
									      '</div>' +  
									    '</div>' +
									    '<div class="col-lg-3">' +
									      '<div class="form-group">' +
									        '<div class="i-checks">' +
			                                  '<input id="andAdd" type="checkbox" value="" checked="" class="checkbox-template">' +
			                                  '<label for="andAdd">et ajouter</label>' +
			                                '</div>' +  
			                              '</div>' + 
			                            '</div>' +
			                    	  '</div>'
			               } else if (option == 2) {
			                    line.innerHTML = 
			                   		'<button id="modify" name="submit" type="submit" class="btn btn-primary btn-fill pull-right ladda-button" data-style="expand-right">' +                        	
				            		  '<span class="ladda-label">Modifier les données mission</span>' +
				            		  '<span class="ladda-spinner"></span>' +
									'</button>' 
			                }
				          	document.getElementById("header_button").appendChild(line);
				          </script>
                        </div> 
	      			      
				      </form>
                                               
                    </div> 
                  </div>
                </div>
              </div>  
            </div>
          </section>         
          
          <!-- Page Footer-->
          <footer class="main-footer">
            <div class="container-fluid">
              <div class="row">
                <div class="col-sm-4">
                  <p>Projet EBO-SURSY  2017-2021</p>
                </div>
                <div class="col-sm-4">
                  <p>Conçu par Bruno Rosset - Cirad</p>
                </div>
                <div class="col-sm-4 text-right"> 
                  <p><a href="javascript:ouvre_popup('CGU.html')"><U>CGU</U></a></p>
                </div>
              </div>
            </div>
            <script type="text/javascript">
				function ouvre_popup(page) {
				 window.open(page,"nom_popup","menubar=no, status=no, scrollbars=no, menubar=no, width=640, height=480");
				}
			</script>
          </footer>
        </div>
      </div>
    </div>
    
	<div id="nouvelleReference" tabindex="-1" role="dialog" aria-labelledby="nouvelleReference" aria-hidden="true" class="modal fade text-left">
      <div role="document" class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h4 id="referenceModalLabel" class="modal-title">ModalLabel</h4>
            <button type="button" data-dismiss="modal" aria-label="Close" class="close"><span aria-hidden="true">×</span></button>
          </div>
          <div class="modal-body">
            <form id="form-group-Reference">
              <div class="form-group">
                <label id="referenceLabel">Label</label>
                <input id="referenceInput" type="text" class="form-control">
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button id="btnAnnuler" type="button" data-dismiss="modal" class="btn btn-secondary">Annuler</button>
            <!-- <button type="submit" class="btn btn-primary" id="btnAjouter">Ajouter</button> -->
            <button id="btnAjouter" name="submit" type="submit" class="btn btn-primary btn-fill pull-right ladda-button" data-style="expand-right">                        	
	          <span class="ladda-label">Ajouter</span>
	          <span class="ladda-spinner"></span>
			</button>  
          </div>
        </div>
      </div>
    </div>
	
    <script type="text/javascript">
    	$('.input-datepicker').datepicker({
        	language: 'fr',
        	autoclose: true
      	});
    </script>    
    
    <script type="text/javascript">
   		$('#spanDate1').click(function(){
	   		event.stopPropagation(); 
	   	    dp = $('#Date_debut').datepicker({
	   	    	language: 'fr',
	   	    	autoclose: true
	   	    });
	   		dp.show();
	   		$('#Date_debut').focus();
		});
   		
   		$('#spanDate2').click(function(){
	   		event.stopPropagation(); 
	   	    dp = $('#Date_fin').datepicker({
	   	    	language: 'fr',
	   	    	autoclose: true
	   	    });
	   		dp.show();
	   		$('#Date_fin').focus();
		});
    </script> 

    
    <script type="text/javascript">
    	/*function select_famille(select, select2, select3) {
     		
     		var valeur = select.options[select.selectedIndex].value;
		  	var Genre = select2;
		  	
		  	var Espece = select3;
			while (Espece.options.length) {
				Espece.remove(0);
		    };
		    
		    var nameEspece = "#nouvelle" + Espece.name;
		   
		    $(nameEspece).addClass('btn-outline-dark');
			$(nameEspece).addClass('input-group-addon-disabled');
			$(nameEspece).removeClass('btn-primary');
			Espece.disabled = true;		  	
		  	
			var nameGenre = "#nouveau" + Genre.name;
			
		  	if ((valeur == "") || (valeur == "INDETERMINEE") || (valeur == "Manquant")) {
				while (Genre.options.length) {
			  		Genre.remove(0);
			    };
			    $(nameGenre).addClass('btn-outline-dark');
				$(nameGenre).addClass('input-group-addon-disabled');
				$(nameGenre).removeClass('btn-primary');
				Genre.disabled = true;				
			} else {
				$(nameGenre).removeClass('btn-outline-dark');
				$(nameGenre).removeClass('input-group-addon-disabled');
				$(nameGenre).addClass('btn-primary');
			  	Genre.disabled = false;		    
			  	
			  	var especeTablesData = JSON.parse(localStorage.getItem('especeTablesData'));
	    		especeTablesData.rows[0].doc.Famille.forEach(function(row){    			
	    			
	    			if (row.Nom == valeur) {
	    			  	while (Genre.options.length) {
	    			  		Genre.remove(0);
	    			    };
	    			    Genre.options[Genre.options.length] = new Option("", "");

	    			    if (!("Genre" in row) == 0) {
	    			    	row.Genre.forEach(function(row1){
	    			    		Genre.options[Genre.options.length] = new Option(row1.Nom, row1.Nom);
	    			    	});
	    			    };
	    			    
	    			    Genre.options[Genre.options.length] = new Option("Manquant", "Manquant");
	    			} 
	    		});
			}
		}
		
		function select_genre(select, select2, select3) {
		
			var Espece = select3;
			var valeurGenre = select2.options[select2.selectedIndex].value;
			
			var nameEspece = "#nouvelle" + Espece.name;
		    
			if ((valeurGenre == "") || (valeurGenre == "Manquant")){
				while (Espece.options.length) {
					Espece.remove(0);
			    };
			    $(nameEspece).addClass('btn-outline-dark');
				$(nameEspece).addClass('input-group-addon-disabled');
				$(nameEspece).removeClass('btn-primary');
			    Espece.disabled = true;	  
			} else {
				$(nameEspece).removeClass('btn-outline-dark');
				$(nameEspece).removeClass('input-group-addon-disabled');
				$(nameEspece).addClass('btn-primary');
				Espece.disabled = false;	
				
				var valeurFamille = select.value;
			
				var especeTablesData = JSON.parse(localStorage.getItem('especeTablesData'));
	    		especeTablesData.rows[0].doc.Famille.forEach(function(row){    			
	    			
	    			if (row.Nom == valeurFamille) {
						if (!("Genre" in row) == 0) {
		    			    row.Genre.forEach(function(row1){
		    			  		if (row1.Nom == valeurGenre) {
			    			  		while (Espece.options.length) {
				    			  		Espece.remove(0);
				    			    };
				    			    Espece.options[Espece.options.length] = new Option("", "");
				    			    
				    			    if (!("Espece" in row1) == 0) {
				    			  		row1.Espece.forEach(function(row2){
				    			  			Espece.options[Espece.options.length] = new Option(row2.Nom, row2.Nom);     	    			
				    			  		});   
				    			    };
				    			  	
				    			  	Espece.options[Espece.options.length] = new Option("Manquant", "Manquant");
		    			  		}
		    			  	});
	    				};
	    			  	
	    				if (!("Genre" in row) == 0) {
	    			    	row.Genre.forEach(function(row1){
	    			  			if (row1.Nom == valeurGenre) {
		    			  			while (Espece.options.length) {
			    			  			Espece.remove(0);
			    			    	};
			    			    	Espece.options[Espece.options.length] = new Option("", "");
			    			    
			    			    	if (!("Espece" in row1) == 0) {
			    			  			row1.Espece.forEach(function(row2){
			    			  				Espece.options[Espece.options.length] = new Option(row2.Nom, row2.Nom);     	    			
			    			  			});   
			    			    	};
			    			  	
			    			  		Espece.options[Espece.options.length] = new Option("Manquant", "Manquant");
	    			  			}
	    			  		});
	    				}
	    			}
	    		});
			}
		}*/
		
	</script>
    
    <script type="text/javascript">
   		$('#nouveauPays').click(function(){   			
   			$('#referenceModalLabel').html('Nouveau Pays');
   			$('#referenceLabel').html('Pays :');
   			$('#referenceInput').prop('disabled', false);
   			$('#btnAjouter').data('data-id', 'pays');
   			clickedBtn = this;
   		});
   		
   		$('#nouvelleActiviteHumaine').click(function(){
   			$('#referenceModalLabel').html('Nouvelle activité humaine');
   			$('#referenceLabel').html('Activité humaine :');
   			$('#referenceInput').prop('disabled', false);
   			$('#btnAjouter').data('data-id', 'activite_humaine');   			
   			clickedBtn = this;   			
		}); 
   		   		
   		$("#btnAjouter").click(function(e){
	    	e.preventDefault();
	    	if(clickedBtn){	    		
	    		var l = Ladda.create(document.querySelector('.ladda-button'));
				l.start();				
				
				if ($(this).data('data-id') == 'pays') {
					var select = document.getElementById('Pays');	    		
					addReference(nom_table, html, 'pays', 'Pays', select, null, null);	
   				} else if ($(this).data('data-id') == 'activite_humaine') {
					//var select = document.getElementById('Activite_humaine');	    		
					addReference(nom_table, html, 'activite_humaine', 'Activite_humaine', null, null, null);	
   				};
   				
   				var referenceInput = document.getElementById('referenceInput');
   				referenceInput.value = "";				
				l.stop();				
				clickedBtn = null;
	    		$('#nouvelleReference').modal('hide');
	        	// close the modal dialog.
	      	}
	    });
   		
   		$("#btnAnnuler").click(function(e){
	    	e.preventDefault();
	    	$('#nouvelleReference').modal('hide');
   		});
   		
   		$(function () {
   		    $('#nouvelleReference').on('hidden.bs.modal', function () {
   		    	removeModalDiv();
	   		});
   		});
   		
   		function removeModalDiv() {
   			try {
   				$('#referenceInput').prop('disabled', false);
   				var referenceInput = document.getElementById('referenceInput');
   				referenceInput.value = "";
	    		var genreForm = document.getElementById('form-group-Reference');
			    var genreLabel = document.getElementById('genreLabel');
			    var genreInput = document.getElementById('genreInput');
			    var genreDiv = document.getElementById('genreDiv');
			    genreDiv.removeChild(genreLabel);
			    genreDiv.removeChild(genreInput);
			    genreForm.removeChild(genreDiv);
		    }
	    	catch(error) {
	    	};	
   		};   		
   		
   		function addNom(NomX) {
		    this.Nom = NomX;
		    	    
		    this.NomX = function() {
		        return this.Nom;
		    };		    
		};
   		
    </script> 
    
    <script type="text/javascript">	
	    function select_N_site(select) {			
			var valeurN_site = select.options[select.selectedIndex].text;	
			
			if (valeurN_site == "") {
				
				var Pays = document.getElementById("Pays");			
				try {
					Pays.value = '';	
					Pays.disabled = false;
				}
				catch(err) {
				};
				
				var Region_capture = document.getElementById("Region_capture");
				Region_capture.value = '';
				Region_capture.disabled = false;
				
				var Site_capture = document.getElementById("Site_capture");
				Site_capture.value = '';
				Site_capture.disabled = false;
										
				var Environnement = document.getElementById("Environnement");
				Environnement.value = '';
				Environnement.disabled = false;
				
				var Lat_degre_dec = document.getElementById("Lat_degre_dec");
				Lat_degre_dec.value = '';
				Lat_degre_dec.disabled = false;
				
				var Latitude = document.getElementById("Latitude");
				Latitude.value = '';
				Latitude.disabled = false;
				
				var Lat_degre_dec = document.getElementById("Lat_degre_dec");
				Lat_degre_dec.value = '';
				Lat_degre_dec.disabled = false;
				
				var Longitude = document.getElementById("Longitude");
				Longitude.value = '';
				Longitude.disabled = false;
				
				var Long_degre_dec = document.getElementById("Long_degre_dec");
				Long_degre_dec.value = '';
				Long_degre_dec.disabled = false;
				
				var Proximite_village_km = document.getElementById("Proximite_village_km");
				Proximite_village_km.value = '';
				Proximite_village_km.disabled = false;
				
			} else {
			
				if (localStorage.getItem('web') === 'oui') {
					var remote_couchdb = localStorage.getItem('remote_couchdb');
					var DB = new PouchDB(remote_couchdb + 'site' + nom_table + debug);
				} else {
					var DB = new PouchDB('site' + nom_table + debug);
				};	
				
				DB.find({
					selector: {N_site: valeurN_site},
					fields: ['_id', 'N_site', 'Equipe', 'Pays', 'Region_capture', 'Site_capture', 'Environnement', 
						     'Latitude', 'Lat_degre_dec', 'Longitude', 'Long_degre_dec', 'Proximite_village_km']
				}).then(function (result) {
			
					if (localStorage.getItem('web') === 'oui') {
						var remote_couchdb = localStorage.getItem('remote_couchdb');
						var DB2 = new PouchDB(remote_couchdb + 'site' + nom_table + debug);
					} else {
						var DB2 = new PouchDB('site' + nom_table + debug);
					};	
					
					console.log(JSON.stringify(result));
					var res =  JSON.parse(JSON.stringify(result));
					id = res.docs[0]._id;
		    		
					DB2.get(id).then(function (doc) {
											
						var Pays = document.getElementById("Pays");			
						try {
							Pays.value = doc.Pays;	
							Pays.disabled = true;
						}
						catch(err) {
						};
						
						var Region_capture = document.getElementById("Region_capture");
						Region_capture.value = doc.Region_capture;
						Region_capture.disabled = true;
						
						var Site_capture = document.getElementById("Site_capture");
						Site_capture.value = doc.Site_capture;
						Site_capture.disabled = true;
												
						var Environnement = document.getElementById("Environnement");
						Environnement.value = doc.Environnement;
						Environnement.disabled = true;
						
						var Lat_degre_dec = document.getElementById("Lat_degre_dec");
						Lat_degre_dec.value = doc.Lat_degre_dec;
						Lat_degre_dec.disabled = true;
						
						var Latitude = document.getElementById("Latitude");
						Latitude.value = doc.Latitude;
						Latitude.disabled = true;
						
						var Lat_degre_dec = document.getElementById("Lat_degre_dec");
						Lat_degre_dec.value = doc.Lat_degre_dec;
						Lat_degre_dec.disabled = true;
						
						var Longitude = document.getElementById("Longitude");
						if (doc.Longitude == 'O') {
							Longitude.value = 'W';
						} else {
							Longitude.value = doc.Longitude;
						}
						Longitude.disabled = true;
						
						var Long_degre_dec = document.getElementById("Long_degre_dec");
						Long_degre_dec.value = doc.Long_degre_dec;
						Long_degre_dec.disabled = true;
						
						var Proximite_village_km = document.getElementById("Proximite_village_km");
						Proximite_village_km.value = doc.Proximite_village_km;
						Proximite_village_km.disabled = true;
						
					})
				});
				
				//var DB = new PouchDB('site_astre' + debug);
				
			}
		}
	</script>
     
    <script type="text/javascript">
    
    	// Example starter JavaScript for disabling form submissions if there are invalid fields
  		(function() {
  		  'use strict';
  		  window.addEventListener('load', function() {
  		    // Fetch all the forms we want to apply custom Bootstrap validation styles to
  		    var forms = document.getElementsByClassName('needs-validation');
  		    // Loop over them and prevent submission
  		    var validation = Array.prototype.filter.call(forms, function(form) {
  		      form.addEventListener('submit', function(event) {
  		    	if (form.checkValidity() === false) {
  		          event.preventDefault();
  		          event.stopPropagation();
  		        } else {
  		          event.preventDefault();
  		      	  //add event listener
  		          if ((option == 0) || (option == 1)) {
	  		      	addMission();
	  		  	  } else if ((option == 2)) {
	  		  		modifyMission();
	  		  	  }
  		        } 		        
  		        form.classList.add('was-validated');
  		      }, false);
  		    });
  		  }, false);
  		})();
 		
  		function addMission() {  
  			
  			var l = Ladda.create( document.querySelector( '.ladda-button' ) );

			// Start loading
			l.start();
			
			var id = uuid();
			
			var Date_debut = document.getElementById('Date_debut').value;
			var Date_fin = document.getElementById('Date_fin').value;
			var Equipe = document.getElementById('Equipe').value;
			var ID_CS_debut = document.getElementById('ID_CS_debut').value;
			var ID_CS_fin = document.getElementById('ID_CS_fin').value;
			var ID_non_invasif_debut = document.getElementById('ID_non_invasif_debut').value;
			var ID_non_invasif_fin = document.getElementById('ID_non_invasif_fin').value;
			var Numero_mission = document.getElementById('Numero_mission').value;
			var N_site = document.getElementById('N_site').value;
			
			var Pays = document.getElementById('Pays').value;
			var Region_capture = document.getElementById('Region_capture').value;
			var Site_capture = document.getElementById('Site_capture').value;
			var Environnement = document.getElementById('Environnement').value;
			var Lat_degre_dec = document.getElementById('Lat_degre_dec').value;
			var Latitude = document.getElementById('Latitude').value;
			var Long_degre_dec = document.getElementById('Long_degre_dec').value;
			var Longitude = document.getElementById('Longitude').value;
			var Proximite_village_km = document.getElementById('Proximite_village_km').value;
							
			var Type = document.getElementById('Type').value;	
			var Type_Roost = document.getElementById('Type_Roost').value;
			var ID_genet_espece = document.getElementById('ID_genet_espece').value;	
			var Proximite_eau = document.getElementById('Proximite_eau').value;	
			var Hauteur_canope = document.getElementById('Hauteur_canope').value;	
			var Description_site = document.getElementById('Description_site').value;	
			var Espece_animale_sauvage = document.getElementById('Espece_animale_sauvage').value;	
			var Espece_animale_domestique = document.getElementById('Espece_animale_domestique').value;	
			var Interaction = document.getElementById('Interaction').value;	
			var Description_interaction_animaux = document.getElementById('Description_interaction_animaux').value;	
			
			
			
			var Activite_humaine = '';
			var element = document.getElementById("test");
			var numberOfChildren = element.children.length;
			
			for (var i=0; i<numberOfChildren; i++) {
				var checkbox = document.getElementById("Activite_humaine" + i);
				var label_checkbox = document.getElementById("labelActivite_humaine" + i);
				if (checkbox.checked) {
					if (Activite_humaine === '') {
						Activite_humaine = label_checkbox.innerText;
					} else {
						Activite_humaine = Activite_humaine + ', ' + label_checkbox.innerText;
					}
				};
			};
			
			var Description_interaction_homme = document.getElementById('Description_interaction_homme').value;	
			var Camera_trap = document.getElementById('Camera_trap').value;	
			var Heure_debut_camera = document.getElementById('Heure_debut_camera').value;	
			var Heure_fin_camera = document.getElementById('Heure_fin_camera').value;
			
			var row =[];
						
			var table = document.getElementById('example');
	        var rowCount = table.rows.length;
	        
	        try {
		        if (rowCount > 1) {
			        for (i=1; i<rowCount; i++){
			            var selects = table.rows.item(i).getElementsByTagName("select");
			            //console.log(selects[0].value + ' - ' + selects[1].value + ' - ' + selects[2].value + ' - ' + selects[3].value + ' - ' + selects[4].value);
			            row[i-1] = new addPhenologie(selects[0].value, selects[1].value, selects[2].value, selects[3].value, selects[4].value);
					}; 
		        };
		        var Phenologie = JSON.stringify(row);
				Phenologie = JSON.parse(Phenologie);
			}catch(err) {
				var Phenologie = JSON.stringify(row);
				Phenologie = JSON.parse(Phenologie);
			};
			
			var Username = localStorage.getItem('loginUsername');
						
			var andAdd = document.getElementById("andAdd");
			  	if (andAdd.checked == true){
			  	    var doc = new Object();
			  		  
			  	  	doc.Date_debut = Date_debut;
			  	  	doc.Date_fin = Date_fin;
			  		doc.Equipe = Equipe;
			  		doc.ID_CS_debut = ID_CS_debut;
			  		doc.ID_CS_fin = ID_CS_fin;
			  		doc.ID_non_invasif_debut = ID_non_invasif_debut;
			  		doc.ID_non_invasif_fin = ID_non_invasif_fin;
			  		doc.Numero_mission = Numero_mission;
					doc.N_site = N_site;
			  		doc.Pays = Pays;
			  		doc.Region_capture = Region_capture;
			  		doc.Site_capture = Site_capture;
			  		doc.Environnement = Environnement;
			  		doc.Lat_degre_dec = Lat_degre_dec;
			  		doc.Latitude = Latitude;
			  		doc.Long_degre_dec = Long_degre_dec;
			  		doc.Longitude = Longitude;
			  		doc.Proximite_village_km = Longitude;
			  		doc.Type = Type; 	
			  		doc.Type_Roost = Type_Roost; 
			 	 	doc.ID_genet_espece = ID_genet_espece; 	
			  		doc.Proximite_eau = Proximite_eau; 	
			 	 	doc.Hauteur_canope = Hauteur_canope;	
			 	 	doc.Description_site = Description_site;
				  	doc.Espece_animale_sauvage = Espece_animale_sauvage;	
			 	 	doc.Espece_animale_domestique = Espece_animale_domestique; 	
			  		doc.Interaction = Interaction;	
			  		doc.Description_interaction_animaux = Description_interaction_animaux;	
			 	 	doc.Activite_humaine = String(Activite_humaine);	
			 	 	doc.Description_interaction_homme = Description_interaction_homme;	
				  	doc.Camera_trap = Camera_trap;	
			 	 	doc.Heure_debut_camera = Heure_debut_camera;	
			 	 	doc.Heure_fin_camera = Heure_fin_camera;
				  	doc.Phenologie = Phenologie;
				  	doc.Username = Username;
			  	  
			  		localStorage['missionTablesData'] = JSON.stringify(doc);
			  	};
			
			if (localStorage.getItem('web') === 'oui') {
				var remote_couchdb = localStorage.getItem('remote_couchdb');
				var DB = new PouchDB(remote_couchdb + 'donnees_mission' + nom_table + debug);
			} else {
				var DB = new PouchDB('donnees_mission' + nom_table + debug);
			};
			
			DB.put({
				_id: id,
				Date_debut: Date_debut,
				Date_fin: Date_fin,
				Equipe: Equipe,
				ID_CS_debut: ID_CS_debut,
				ID_CS_fin: ID_CS_fin,
				ID_non_invasif_debut: ID_non_invasif_debut,
				ID_non_invasif_fin: ID_non_invasif_fin,
				Numero_mission: Numero_mission,
				N_identification_missions: ID_CS_debut + ID_CS_fin + ID_non_invasif_debut + ID_non_invasif_fin,
				N_site: N_site,
				Pays: Pays,
				Region_capture: Region_capture,
				Site_capture: Site_capture,
				Environnement: Environnement,
				Lat_degre_dec: Lat_degre_dec,
				Latitude: Latitude,
				Long_degre_dec: Long_degre_dec,
				Longitude: Longitude,
				Proximite_village_km: Longitude,
				
				Type: Type, 	
				Type_Roost: Type_Roost, 
				ID_genet_espece: ID_genet_espece, 	
				Proximite_eau: Proximite_eau, 	
				Hauteur_canope: Hauteur_canope,	
				Description_site: Description_site,
				Espece_animale_sauvage: Espece_animale_sauvage,	
				Espece_animale_domestique: Espece_animale_domestique, 	
				Interaction: Interaction,	
				Description_interaction_animaux: Description_interaction_animaux,	
				Activite_humaine: String(Activite_humaine),	
				Description_interaction_homme: Description_interaction_homme,	
				Camera_trap: Camera_trap,	
				Heure_debut_camera: Heure_debut_camera,	
				Heure_fin_camera: Heure_fin_camera,
				Phenologie: Phenologie,
				Username: Username
				
				
			}).then(function (response) {
				
				if ((navigator.onLine) && (localStorage.getItem('web') !== 'oui')) {
					var localDB2 = new PouchDB('donnees_mission' + nom_table + debug);	
					var remote_couchdb = localStorage.getItem('remote_couchdb');
					var remoteDB = new PouchDB(remote_couchdb + 'donnees_mission' + nom_table + debug, {skip_setup: true});
					
					localDB2.sync(remoteDB).on('complete', (info) => { 

						var andAdd = document.getElementById("andAdd");
					  	if (andAdd.checked == true) {
					  	  window.location = 'ajouter_modifier_donnees_missions.html?option=1&table=' + nom_table;
					  	} else {
					  	  window.location = 'liste_donnees_missions.html?table=' + nom_table;	
					  	};
					}).on('error', function (err) {
						// error while replicating
						alert('alert sync new donnees mission : ' + nom_table  + ' ' + JSON.stringify(err));
						window.location = 'login.html';
					});
				} else {
					var andAdd = document.getElementById("andAdd");
				  	if (andAdd.checked == true) {
				  	  window.location = 'ajouter_modifier_donnees_missions.html?option=1&table=' + nom_table;
				  	} else {
				  	  window.location = 'liste_donnees_missions.html?table=' + nom_table;	
				  	};
				}
				l.stop();
				
			}).catch(function (err) {
				alert(JSON.stringify(err));
				console.log(err);
			});	
  		};
  		
		function modifyMission() {  
  			
  			var l = Ladda.create( document.querySelector( '.ladda-button' ) );

			// Start loading
			l.start();
		
			var id = localStorage.getItem('ID_donnees_mission' + nom_table);
			
			var Date_debut = document.getElementById('Date_debut').value;
			var Date_fin = document.getElementById('Date_fin').value;
			var Equipe = document.getElementById('Equipe').value;
			var ID_CS_debut = document.getElementById('ID_CS_debut').value;
			var ID_CS_fin = document.getElementById('ID_CS_fin').value;
			var ID_non_invasif_debut = document.getElementById('ID_non_invasif_debut').value;
			var ID_non_invasif_fin = document.getElementById('ID_non_invasif_fin').value;
			var Numero_mission = document.getElementById('Numero_mission').value;
			var N_site = document.getElementById('N_site').value;
			
			var Pays = document.getElementById('Pays').value;
			var Region_capture = document.getElementById('Region_capture').value;
			var Site_capture = document.getElementById('Site_capture').value;
			var Environnement = document.getElementById('Environnement').value;
			var Lat_degre_dec = document.getElementById('Lat_degre_dec').value;
			var Latitude = document.getElementById('Latitude').value;
			var Long_degre_dec = document.getElementById('Long_degre_dec').value;
			var Longitude = document.getElementById('Longitude').value;
			var Proximite_village_km = document.getElementById('Proximite_village_km').value;
							
			var Type = document.getElementById('Type').value;	
			var Type_Roost = document.getElementById('Type_Roost').value;
			var ID_genet_espece = document.getElementById('ID_genet_espece').value;	
			var Proximite_eau = document.getElementById('Proximite_eau').value;	
			var Hauteur_canope = document.getElementById('Hauteur_canope').value;	
			var Description_site = document.getElementById('Description_site').value;	
			var Espece_animale_sauvage = document.getElementById('Espece_animale_sauvage').value;	
			var Espece_animale_domestique = document.getElementById('Espece_animale_domestique').value;	
			var Interaction = document.getElementById('Interaction').value;	
			var Description_interaction_animaux = document.getElementById('Description_interaction_animaux').value;	
			
			var Activite_humaine = '';
			var element = document.getElementById("test");
			var numberOfChildren = element.children.length;
			
			for (var i=0; i<numberOfChildren; i++) {
				var checkbox = document.getElementById("Activite_humaine" + i);
				var label_checkbox = document.getElementById("labelActivite_humaine" + i);
				if (checkbox.checked) {
					if (Activite_humaine === '') {
						Activite_humaine = label_checkbox.innerText;
					} else {
						Activite_humaine = Activite_humaine + ', ' + label_checkbox.innerText;
					}
				};
			};			
			
			var Description_interaction_homme = document.getElementById('Description_interaction_homme').value;	
			var Camera_trap = document.getElementById('Camera_trap').value;	
			var Heure_debut_camera = document.getElementById('Heure_debut_camera').value;	
			var Heure_fin_camera = document.getElementById('Heure_fin_camera').value;
			
			var row =[];
						
			var table = document.getElementById('example');
	        var rowCount = table.rows.length;
	        
	        try {
		        if (rowCount > 1) {
			        for (i=1; i<rowCount; i++){
			            var selects = table.rows.item(i).getElementsByTagName("select");
			            //console.log(selects[0].value + ' - ' + selects[1].value + ' - ' + selects[2].value + ' - ' + selects[3].value + ' - ' + selects[4].value);
			            row[i-1] = new addPhenologie(selects[0].value, selects[1].value, selects[2].value, selects[3].value, selects[4].value);
					}; 
		        };
		        var Phenologie = JSON.stringify(row);
				Phenologie = JSON.parse(Phenologie);
			}catch(err) {
				var Phenologie = JSON.stringify(row);
				Phenologie = JSON.parse(Phenologie);
			};
			
			var Username = localStorage.getItem('loginUsername');
			
			if (localStorage.getItem('web') === 'oui') {
				var remote_couchdb = localStorage.getItem('remote_couchdb');
				var DB = new PouchDB(remote_couchdb + 'donnees_mission' + nom_table + debug);
			} else {
				var DB = new PouchDB('donnees_mission' + nom_table + debug);
			};	
			
			DB.find({
				selector: {_id: id},
				fields: ['_id', 'Date', 'Heure_debut', 'Heure_fin', 'Equipe', 'Pays', 'Region_collecte', 'Site_collecte', 'Environnement', 'Lieu_collecte', 'Lat_degre_dec', 'Latitude', 'Long_degre_dec', 'Longitude', 'Type_site', 'Proximite_village_km', 'Type_chauves_souris', 'Famille_1', 'Genre_1', 'Espece_1', 'Famille_2', 'Genre_2', 'Espece_2', 'Famille_3',' Genre_3', 'Espece_3', 'Remarques', 'Echantillons']
			}).then(function (result) {
		
				if (localStorage.getItem('web') === 'oui') {
					var remote_couchdb = localStorage.getItem('remote_couchdb');
					var DB2 = new PouchDB(remote_couchdb + 'donnees_mission' + nom_table + debug);
				} else {
					var DB2 = new PouchDB('donnees_mission' + nom_table + debug);
				};	
				
				DB2.get(id).then(function (doc) {
										
					doc.Date_debut = Date_debut;
					doc.Date_fin = Date_fin;
					doc.Equipe = Equipe;
					doc.ID_CS_debut = ID_CS_debut;
					doc.ID_CS_fin = ID_CS_fin;
					doc.ID_non_invasif_debut = ID_non_invasif_debut;
					doc.ID_non_invasif_fin = ID_non_invasif_fin;
					doc.Numero_mission = Numero_mission;
					doc.N_identification_missions = ID_CS_debut + ID_CS_fin + ID_non_invasif_debut + ID_non_invasif_fin;
					doc.N_site = N_site;
					doc.Pays = Pays;
					doc.Region_capture = Region_capture;
					doc.Site_capture = Site_capture;
					doc.Environnement = Environnement;
					doc.Lat_degre_dec = Lat_degre_dec;
					doc.Latitude = Latitude;
					doc.Long_degre_dec = Long_degre_dec;
					doc.Longitude = Longitude;
					doc.Proximite_village_km = Longitude;
				
					doc.Type = Type; 	
					doc.Type_Roost = Type_Roost; 
					doc.ID_genet_espece = ID_genet_espece; 	
					doc.Proximite_eau = Proximite_eau; 	
					doc.Hauteur_canope = Hauteur_canope;	
					doc.Description_site = Description_site;
					doc.Espece_animale_sauvage = Espece_animale_sauvage;	
					doc.Espece_animale_domestique = Espece_animale_domestique; 	
					doc.Interaction = Interaction;	
					doc.Description_interaction_animaux = Description_interaction_animaux;	
					doc.Activite_humaine = String(Activite_humaine);	
					doc.Description_interaction_homme = Description_interaction_homme;	
					doc.Camera_trap = Camera_trap;	
					doc.Heure_debut_camera = Heure_debut_camera;	
					doc.Heure_fin_camera = Heure_fin_camera;
					doc.Phenologie = Phenologie;
					doc.Username = Username;
				
					return DB2.put(doc);
				}).then(function () {
					return DB2.get(id);
				}).then(function (doc) {	
			
					if ((navigator.onLine) && (localStorage.getItem('web') !== 'oui')) {
						var localDB3 = new PouchDB('donnees_mission' + nom_table + debug);	
						var remote_couchdb = localStorage.getItem('remote_couchdb');
						var remoteDB = new PouchDB(remote_couchdb + 'donnees_mission' + nom_table + debug, {skip_setup: true});
					
						localDB3.sync(remoteDB).on('complete', (info) => { 
							window.location = 'liste_donnees_missions.html?table=' + nom_table;
						}).on('error', function (err) {
							// error while replicating
							alert('alert sync new donnees mission : ' + nom_table + ' ' + JSON.stringify(err));
							window.location = 'login.html';
						});
					} else {
						window.location = 'liste_donnees_missions.html?table=' + nom_table;
					}
					l.stop();
				});
			}).catch(function (err) {
				alert(JSON.stringify(err));
				console.log(err);
			});	
  		};
  		
	</script>
	
	<script type="text/javascript">	
	
		$('#addPhenologie').click(function(e){
		   	e.preventDefault();
		   	var table = $('#example').DataTable();
		   	var rowCount= table.rows().data().length;
		   	addRow(table, rowCount + 1);
		});
		
		$(document).on('click', ".deletebtn", function (e) {
	    	e.preventDefault();
	    	var table = $('#example').DataTable();
	    	table.row($(this).parents('tr')).remove().draw();
	    });	
	
	</script>
	
	<script type="text/javascript">	
	
		$(document).ready(function() {			
			var table = $('#example').DataTable({
				searching: false,
				columns: [
					{ data: null, render: 'Famille', width: '20%'},					
					{ data: null, render: 'Genre', width: '20%'},
					{ data: null, render: 'Espece', width: '20%'},
			        { data: null, render: 'Pheno_espece', width: '18%'},
					{ data: null, render: 'Statut_espece', width: '17%'},
			        { data: null, render: 'Action', width: '5%'}
			    ],
			    language: {
	                url: 'plug-ins/i18n/French.lang.json'
			    },
			    ordering: false,
			    lengthChange: false,
			    info: false
			});	
			
			if (option == 2) {
				
				var id = localStorage.getItem('ID_donnees_mission' + nom_table);
				
				if (localStorage.getItem('web') === 'oui') {
					var remote_couchdb = localStorage.getItem('remote_couchdb');
					var DB = new PouchDB(remote_couchdb + 'donnees_mission' + nom_table + debug);
				} else {
					var DB = new PouchDB('donnees_mission' + nom_table + debug);
				};
				
				DB.allDocs({
			  		keys: [id],
			  		include_docs: true,
					attachments: true
				}).then(function (result) {
					// handle result
					if (typeof(JSON.stringify(result)) != "undefined"){  
			    		localStorage['datadonnees_missionTablesData'] = JSON.stringify(result);
			    		console.log(JSON.stringify(result));
			    				    						    
			    		var datadonnees_missionTablesData = JSON.parse(localStorage.getItem('datadonnees_missionTablesData'));
			    				    		
			    		var i = 1;
			    		datadonnees_missionTablesData.rows[0].doc.Phenologie.forEach(function(row){   
			    			
			    			table.row.add(new Phenologie(
			    					'<div class="form-group">' +
			    					'<select id="Famille' + i.toString() + '" name="FamillePhenologie" class="form-control" onchange="select_famille(nom_table, this, Genre' + i.toString() + ', Espece' + i.toString() + ')" required>' +
			    						'<option></option>' +               
			    					'</select>' +
			    					'<div class="invalid-feedback">' +
			    						'Famille invalide !' +
			    					'</div>' +
			    				'</div>',
			    				'<div class="form-group">' +
			    					'<div class="input-group">' +
			    						'<select id="Genre' + i.toString() + '" class="form-control" onchange="select_genre(nom_table, Famille' + i.toString() + ', this, Espece' + i.toString() + ')" required>' +
			    							'<option></option>' +           
			    						'</select>' +
			    						'<div class="invalid-feedback">' +
			    							'Genre invalide !'  +
			    						'</div>' + 
			    					'</div>' +
			    				'</div>',
			    				'<div class="form-group">' +
			    					'<div class="input-group">' +
			    						'<select id="Espece' + i.toString() + '" class="form-control" required>' +
			    							'<option></option>' +           
			    						'</select>' +
			    						'<div class="invalid-feedback">' +
			    							'Espece invalide !'  +
			    						'</div>' + 
			    					'</div>' +
			    				'</div>',
			    				'<div class="form-group">' +
			    					'<div class="input-group">' +
			    						'<select id="Pheno_espece' + i.toString() + '" class="form-control" required>' +
			    							'<option></option>' +
			    							'<option>Floraison</option>' +
			    							'<option>Fructif</option>' +
			    							'<option>Floraison et fructif</option>' +
			    							'<option>Aucun</option>' +
			    						'</select>' +
			    						'<div class="invalid-feedback">' +
			    							'Phénologie invalide !'  +
			    						'</div>' + 
			    					'</div>' +
			    				'</div>',
			    				'<div class="form-group">' +
			    					'<div class="input-group">' +
			    						'<select id="Statut_espece' + i.toString() + '" class="form-control" required>' +
			    							'<option></option>' +
			    							'<option>Cultivée</option>' +
			    							'<option>Sauvage</option>' +
			    							'<option>IN</option>' +           
			    						'</select>' +
			    						'<div class="invalid-feedback">' +
			    							'Statut invalide !'  +
			    						'</div>' + 
			    					'</div>' +
			    				'</div>',
			    				'<div class="form-group">' +
			    					'<button id="deletePhenologie" class="btn btn-danger btn-sm deletebtn">' +
			    						'<span class="fa fa-minus"></span>' +
			    					'</button>' +
			    				'</div>'
			    			));
			    			
			    			i = i + 1;
						});
			    		table.draw();
			    		
			    		/*for (var i=1; i<table.data().length+1; i++) {
			    			FamilleList(i);
			    		};*/
			    		
			    		i = 0;
			    		j = 1;
			    		datadonnees_missionTablesData.rows[0].doc.Phenologie.forEach(function(row){ 		    			
			    			FamilleList(j, row.Famille);
			    			select_change(nom_table, document.getElementById('Famille' + j),
			    				   document.getElementById('Genre' + j),
			    				   document.getElementById('Espece' + j),
			    				   row.Famille,
			    				   row.Genre,
			    				   row.Espece);
			    			//
			    			/*table.cell(i,0).nodes().to$().find('select').val(row.Famille);
			    			table.cell(i,1).nodes().to$().find('select').val(row.Genre);
			    			table.cell(i,2).nodes().to$().find('select').val(row.Espece);*/
			    					    			
			    			table.cell(i,3).nodes().to$().find('select').val(row.Pheno_espece);
			    			table.cell(i,4).nodes().to$().find('select').val(row.Statut_espece);
			    			
			    			i = i + 1;	    	
			    			j = j + 1;
			    		});
			    		
					}
				}).catch(function (err) {
					console.log(err);
				}); 
			} else if (option == 1) {
				
				doc = JSON.parse(localStorage.getItem('missionTablesData'));
				
				var i = 1;
				doc.Phenologie.forEach(function(row){
					table.row.add(new Phenologie(
	    					'<div class="form-group">' +
	    					'<select id="Famille' + i.toString() + '" name="FamillePhenologie" class="form-control" onchange="select_famille(nom_table, this, Genre' + i.toString() + ', Espece' + i.toString() + ')" required>' +
	    						'<option></option>' +               
	    					'</select>' +
	    					'<div class="invalid-feedback">' +
	    						'Famille invalide !' +
	    					'</div>' +
	    				'</div>',
	    				'<div class="form-group">' +
	    					'<div class="input-group">' +
	    						'<select id="Genre' + i.toString() + '" class="form-control" onchange="select_genre(nom_table, Famille' + i.toString() + ', this, Espece' + i.toString() + ')" required>' +
	    							'<option></option>' +           
	    						'</select>' +
	    						'<div class="invalid-feedback">' +
	    							'Genre invalide !'  +
	    						'</div>' + 
	    					'</div>' +
	    				'</div>',
	    				'<div class="form-group">' +
	    					'<div class="input-group">' +
	    						'<select id="Espece' + i.toString() + '" class="form-control" required>' +
	    							'<option></option>' +           
	    						'</select>' +
	    						'<div class="invalid-feedback">' +
	    							'Espece invalide !'  +
	    						'</div>' + 
	    					'</div>' +
	    				'</div>',
	    				'<div class="form-group">' +
	    					'<div class="input-group">' +
	    						'<select id="Pheno_espece' + i.toString() + '" class="form-control" required>' +
	    							'<option></option>' +
	    							'<option>Floraison</option>' +
	    							'<option>Fructif</option>' +
	    							'<option>Floraison et fructif</option>' +
	    							'<option>Aucun</option>' +
	    						'</select>' +
	    						'<div class="invalid-feedback">' +
	    							'Phénologie invalide !'  +
	    						'</div>' + 
	    					'</div>' +
	    				'</div>',
	    				'<div class="form-group">' +
	    					'<div class="input-group">' +
	    						'<select id="Statut_espece' + i.toString() + '" class="form-control" required>' +
	    							'<option></option>' +
	    							'<option>Cultivée</option>' +
	    							'<option>Sauvage</option>' +
	    							'<option>IN</option>' +           
	    						'</select>' +
	    						'<div class="invalid-feedback">' +
	    							'Statut invalide !'  +
	    						'</div>' + 
	    					'</div>' +
	    				'</div>',
	    				'<div class="form-group">' +
	    					'<button id="deletePhenologie" class="btn btn-danger btn-sm deletebtn">' +
	    						'<span class="fa fa-minus"></span>' +
	    					'</button>' +
	    				'</div>'
	    			));
	    			
	    			i = i + 1;
				});
	    		table.draw();
	    		
	    		/*for (var i=1; i<table.data().length+1; i++) {
	    			FamilleList(i);
	    		};*/
	    		
	    		i = 0;
	    		j = 1;
	    		doc.Phenologie.forEach(function(row){ 		    			
	    			FamilleList(j, row.Famille);
	    			select_change(nom_table, document.getElementById('Famille' + j),
	    				   document.getElementById('Genre' + j),
	    				   document.getElementById('Espece' + j),
	    				   row.Famille,
	    				   row.Genre,
	    				   row.Espece);
	    			//
	    			/*table.cell(i,0).nodes().to$().find('select').val(row.Famille);
	    			table.cell(i,1).nodes().to$().find('select').val(row.Genre);
	    			table.cell(i,2).nodes().to$().find('select').val(row.Espece);*/
	    					    			
	    			table.cell(i,3).nodes().to$().find('select').val(row.Pheno_espece);
	    			table.cell(i,4).nodes().to$().find('select').val(row.Statut_espece);
	    			
	    			i = i + 1;	    	
	    			j = j + 1;
	    		
				});
				
				
				
			}
		});
				
		function addRow(table, id) {
			table.row.add(new Phenologie(
				'<div class="form-group">' +
					'<select id="Famille' + id + '" name="FamillePhenologie" class="form-control" onchange="select_famille(nom_table, this, Genre' + id + ', Espece' + id + ')" required>' +
						'<option></option>' +               
					'</select>' +
					'<div class="invalid-feedback">' +
						'Famille invalide !' +
					'</div>' +
				'</div>',
				'<div class="form-group">' +
					'<div class="input-group">' +
						'<select id="Genre' + id + '" class="form-control" onchange="select_genre(nom_table, Famille' + id + ', this, Espece' + id + ')" required>' +
							'<option></option>' +           
						'</select>' +
						'<div class="invalid-feedback">' +
							'Genre invalide !'  +
						'</div>' + 
					'</div>' +
				'</div>',
				'<div class="form-group">' +
					'<div class="input-group">' +
						'<select id="Espece' + id + '" class="form-control" required>' +
							'<option></option>' +           
						'</select>' +
						'<div class="invalid-feedback">' +
							'Espece invalide !'  +
						'</div>' + 
					'</div>' +
				'</div>',
				'<div class="form-group">' +
					'<div class="input-group">' +
						'<select id="Pheno_espece' + id + '" class="form-control" required>' +
							'<option></option>' +
							'<option>Floraison</option>' +
							'<option>Fructif</option>' +
							'<option>Floraison et fructif</option>' +
							'<option>Aucun</option>' +
						'</select>' +
						'<div class="invalid-feedback">' +
							'Phénologie invalide !'  +
						'</div>' + 
					'</div>' +
				'</div>',
				'<div class="form-group">' +
					'<div class="input-group">' +
						'<select id="Statut_espece' + id + '" class="form-control" required>' +
							'<option></option>' +
							'<option>Cultivée</option>' +
							'<option>Sauvage</option>' +
							'<option>IN</option>' +           
						'</select>' +
						'<div class="invalid-feedback">' +
							'Statut invalide !'  +
						'</div>' + 
					'</div>' +
				'</div>',
				'<div class="form-group">' +
					'<button id="deletePhenologie" class="btn btn-danger btn-sm deletebtn">' +
						'<span class="fa fa-minus"></span>' +
					'</button>' +
				'</div>'
			));

			//move added row to desired index (here the row we clicked on)
			var index = 0,
				rowCount = table.data().length-1,
				insertedRow = table.row(rowCount).data(),
				tempRow,
				select_Famille,
				select_Genre,
				select_Espece,
				select_Pheno_espece,
				select_Statut_espece;
			
			for (var i=rowCount;i>index;i--) {
				tempRow = table.row(i-1).data();
				
				select_Famille = table.cell(i-1,0).nodes().to$().find('select').val();
				/*table.cell(i-1,0).nodes().to$().find('select > option').each(function(){
					alert($(this).val());
				});*/
				select_Genre = table.cell(i-1,1).nodes().to$().find('select').val();
				select_Espece = table.cell(i-1,2).nodes().to$().find('select').val();
				select_Pheno_espece = table.cell(i-1,3).nodes().to$().find('select').val();
				select_Statut_espece = table.cell(i-1,4).nodes().to$().find('select').val();
				
				table.row(i).data(tempRow);
				
				table.cell(i-1,0).nodes().to$().find('select > option').each(function(){
					if ($(this).val() !== '') {
						table.cell(i,0).nodes().to$().find('select').append('<option value="' + $(this).val() + '">' + $(this).val() + '</option>');
					};
				});
				table.cell(i,0).nodes().to$().find('select').val(select_Famille);
								
				table.cell(i-1,1).nodes().to$().find('select > option').each(function(){
					if ($(this).val() !== '') {
						table.cell(i,1).nodes().to$().find('select').append('<option value="' + $(this).val() + '">' + $(this).val() + '</option>');
					};
				});
				table.cell(i,1).nodes().to$().find('select').val(select_Genre);
		    			
				table.cell(i-1,2).nodes().to$().find('select > option').each(function(){
					if ($(this).val() !== '') {
						table.cell(i,2).nodes().to$().find('select').append('<option value="' + $(this).val() + '">' + $(this).val() + '</option>');
					};
				});
				table.cell(i,2).nodes().to$().find('select').val(select_Espece);
		    	
				table.cell(i,3).nodes().to$().find('select').val(select_Pheno_espece);
				table.cell(i,4).nodes().to$().find('select').val(select_Statut_espece);
					
				table.row(i-1).data(insertedRow);

			};

			    	
			//refresh the current page
			table.page(0).draw(false);
			document.getElementById('Famille' + id).focus();
			
			FamilleList(table.data().length);
			
			for (var i=rowCount+1;i>0;i--) {
				var Famille = document.getElementById('Famille' + i);
				var Genre = document.getElementById('Genre' + i);
				var Espece = document.getElementById('Espece' + i);
				
				if ((Famille.value == '') || (Genre.value == '')) {
					Famille.onchange();
				} else if (Espece.value == '') {
					Genre.onchange();
				};
				
			};
		};
		
		function FamilleList(i, nom) {
			
			var Famille = document.getElementById('Famille' + i);
			
			if (localStorage.getItem('web') === 'oui') {
				var remote_couchdb = localStorage.getItem('remote_couchdb');
				var DB = new PouchDB(remote_couchdb + 'phenologie' + nom_table + debug);
			} else {
				var DB = new PouchDB('phenologie' + nom_table + debug);
			};	
						
			DB.allDocs({  		
				include_docs: true,
				attachments: true
			}).then(function (result) {
				// handle result
				if (typeof(JSON.stringify(result)) != "undefined"){  
			   		//localStorage['especeTablesData'] = JSON.stringify(result);
		    		//var especeTablesData = JSON.parse(localStorage.getItem('especeTablesData'));
		    		
		    		var especeTablesData = JSON.parse(JSON.stringify(result));
		    		
			   		especeTablesData.rows[0].doc.Famille.forEach(function(row){   
			   			Famille.options[Famille.options.length] = new Option(row.Nom, row.Nom); 
			   		});	
			   		
			   		Famille.options[Famille.options.length] = new Option("Manquant", "Manquant");
			   		
			   		/*if (add) {
			    		try {
			    			select_change(Famille_terrain, Genre_terrain, Espece_terrain, doc.Famille_terrain, doc.Genre_terrain, doc.Espece_terrain);
			    			select_change(Famille_labo, Genre_labo, Espece_labo, doc.Famille_labo, doc.Genre_labo, doc.Espece_labo);
			    			select_change(Famille_consensus, Genre_consensus, Espece_consensus, doc.Famille_consensus, doc.Genre_consensus, doc.Espece_consensus);
			    		}
			    		catch(err) {
			    		};
			    	};*/
			    	
			   		Famille.value = nom;
				}
			}).catch(function (err) {
				console.log(err);
			});
		}
	
		function Phenologie(Famille, Genre, Espece, Pheno_espece, Statut_espece, Action) {
		    this._Famille = Famille;
		    this._Genre = Genre;					
		    this._Espece = Espece;
		    this._Pheno_espece = Pheno_espece;
		    this._Statut_espece = Statut_espece;
		    this._Action = Action;
		    		    
		    this.Famille = function() {
		    	return this._Famille;
		    };
		    
		    this.Genre = function() {
		        return this._Genre;
		    };
		    
		    this.Espece  = function () {
		    	return this._Espece;
		    };
		 
		    this.Pheno_espece = function () {
		        return this._Pheno_espece;
		    };	
		    
		    this.Statut_espece = function () {
		        return this._Statut_espece;
		    };
		    
		    this.Action = function () {
		        return this._Action;
		    };
		};
		
		function addPhenologie(FamilleX, GenreX, EspeceX, Pheno_especeX, Statut_especeX) {
		    this.Famille = FamilleX;
		    this.Genre = GenreX;
		    this.Espece = EspeceX;
		    this.Pheno_espece = Pheno_especeX;
		    this.Statut_espece = Statut_especeX;
		    	    
		    this.FamilleX = function() {
		        return this.Famille;
		    };
		    
		    this.GenreX = function() {
		        return this.Genre;
		    };
		    
		    this.EspeceX = function() {
		        return this.Espece;
		    };
		    
		    this.Pheno_especeX = function() {
		        return this.Pheno_espece;
		    };
		    
		    this.Statut_especeX = function() {
		        return this.Statut_espece;
		    };
		    
		};
		
	</script>	
	
	<script type="text/javascript">
		
		document.addEventListener("keydown", function(event) {
		  if (event.keyCode == 13) {
		    event.preventDefault();
		    return false;
		  }
		}, true); // "true" => phase de capture
		
		var institut;
		if ((nom_table == '_transvihmi_guinee') || (nom_table == '_transvihmi_cameroun')
			|| (nom_table == '_transvihmi_rdc')) {
			institut = 'transvihmi';			
		} else if (nom_table == '_mivegec') {
			institut = 'mivegec';
		} else if ((nom_table == '_astre_guinee') || (nom_table == '_astre_congo')
				|| (nom_table == '_astre_gabon')) {
			institut = 'astre';
		};
		
		expanded(nom_table);
		
		function expanded(nom_table) {
			var component_li = document.getElementById('li_' + institut + 'Dropdown');
			component_li.classList.add('active');
			var component_a = document.getElementById('a_' + institut + 'Dropdown');
			component_a.setAttribute('aria-expanded', 'true');
			var component_ul =  document.getElementById('ul_' + institut + 'Dropdown');
			component_ul.classList.add('show');
			 
			try {
				var component_li = document.getElementById('li' + nom_table + 'Dropdown');
				component_li.classList.add('active');
				var component_a = document.getElementById('a' + nom_table + 'Dropdown');
				component_a.setAttribute('aria-expanded', 'true');
				var component_ul =  document.getElementById('ul' + nom_table + 'Dropdown');
				component_ul.classList.add('show');
			}
	    	catch(error) {
	    	};
	    	
			var component_li = document.getElementById('li_bat' + nom_table + 'Dropdown');
			component_li.classList.add('active');
			var component_a = document.getElementById('a_bat' + nom_table + 'Dropdown');
			component_a.setAttribute('aria-expanded', 'true');
			var component_ul =  document.getElementById('ul_bat' + nom_table + 'Dropdown');
			component_ul.classList.add('show');
			
			var component_li = document.getElementById('li_suivi_longitudinal_donnees_missions' + nom_table + 'Dropdown');
			component_li.classList.add('active');
			var component_a = document.getElementById('a_suivi_longitudinal_donnees_missions' + nom_table + 'Dropdown');
			component_a.setAttribute('aria-expanded', 'true');
			var component_ul =  document.getElementById('ul_suivi_longitudinal_donnees_missions' + nom_table + 'Dropdown');
			component_ul.classList.add('show');
			
			var component_li = document.getElementById('li_suivi_longitudinal_donnees_missions' + nom_table);
			component_li.classList.add('active');
		};
		
	</script> 
  	
	
  </body>
</html>
	 